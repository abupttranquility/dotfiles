{"version":3,"sources":["webpack:///top-frame.js","webpack:///./extension/index.top-frame.js","webpack:///./redux/actions.top-frame.js","webpack:///./utils/dom.js","webpack:///./components/Err/Err.js","webpack:///./components/Loading/Loading.js","webpack:///./utils/format.js","webpack:///./components/Collapsable/Collapsable.js","webpack:///./components/TimeSince/TimeSince.js","webpack:///./components/meta.styles.css","webpack:///./components/AccountFooter/AccountFooter.js","webpack:///./components/AccountHeader/AccountHeader.js","webpack:///./components/AccountHovercard/AccountHovercard.js","webpack:///./components/Carousel/Carousel.js","webpack:///./components/ContentDescription/ContentDescription.js","webpack:///./components/ContentFooter/ContentFooter.js","webpack:///./components/ContentHeader/ContentHeader.js","webpack:///./components/ContentHovercard/ContentHovercard.js","webpack:///./components/DiscussionComment/DiscussionComment.js","webpack:///./components/Discussions/Discussions.js","webpack:///./components/Gif/Gif.js","webpack:///./components/Hovercard/Hovercard.js","webpack:///./components/Hovercards/Hovercards.js","webpack:///./components/Image/Image.js","webpack:///./components/Media/Media.js","webpack:///./components/OEmbed/OEmbed.js","webpack:///./components/SoundCloudPlayer/SoundCloudPlayer.js","webpack:///./components/Video/Video.js","webpack:///./components/YoutubeVideo/YoutubeVideo.js","webpack:///./redux/analytics.actions.top-frame.js","webpack:///./redux/authentication.actions.top-frame.js","webpack:///./redux/createStore.top-frame.js","webpack:///./redux/entities.actions.top-frame.js","webpack:///./components/AccountFooter/AccountFooter.styles.css","webpack:///./components/AccountHeader/AccountHeader.styles.css","webpack:///./components/AccountHovercard/AccountHovercard.styles.css","webpack:///./components/Carousel/Carousel.styles.css","webpack:///./components/Collapsable/Collapsable.styles.css","webpack:///./components/ContentDescription/ContentDescription.styles.css","webpack:///./components/ContentHeader/ContentHeader.styles.css","webpack:///./components/ContentHovercard/ContentHovercard.styles.css","webpack:///./components/DiscussionComment/DiscussionComment.styles.css","webpack:///./components/Discussions/Discussions.styles.css","webpack:///./components/Err/Err.styles.css","webpack:///./components/Gif/Gif.styles.css","webpack:///./components/Hovercard/Hovercard.styles.css","webpack:///./components/Image/Image.styles.css","webpack:///./components/Loading/Loading.styles.css","webpack:///./components/Media/Media.styles.css","webpack:///./components/OEmbed/OEmbed.styles.css","webpack:///./components/SoundCloudPlayer/SoundCloudPlayer.styles.css","webpack:///./components/Video/Video.styles.css","webpack:///./components/YoutubeVideo/YoutubeVideo.styles.css"],"names":["webpackJsonp","0","module","exports","__webpack_require__","Provider","React","ReactDOM","Hovercards","createStore","element","document","documentElement","insertBefore","createElement","className","render","store","45","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","93","_","hasClass","classNames","every","concat","replace","indexOf","addClass","value","nodeType","setClass","split","forEach","aClassName","trim","removeClass","massageUrl","url","match","a","href","remove","URL","imageLoaded","src","Promise","resolve","reject","img","Image","onload","onerror","119","classnames","connect","actions","browser","report","styles","createClass","displayName","propTypes","authenticate","PropTypes","func","isRequired","string","error","object","getEntity","onClickCTA","this","props","api","request","then","isMounted","bind","catchException","integration","cta","i18n","getMessage","code","image","description","name","onClick","120","loadingContainer","loading","175","units","number","isNumber","isNaN","toLocaleString","log1000","Math","floor","log10","multiple1000","pow","roundto","round","177","_defineProperty","obj","defineProperty","enumerable","configurable","writable","children","node","onExpand","onResize","getInitialState","expanded","collapsable","componentDidMount","refs","scrollHeight","offsetHeight","setState","componentDidUpdate","prevProps","prevState","state","e","preventDefault","stopPropagation","_classnames","ref","collapsed","178","copy","date","timesince","componentWillReceiveProps","nextProps","clearTimeout","timeout","Date","now","now_with_date_time","UTC","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","difference","unit","sortedIndex","setTimeout","componentWillUnmount","title","286","meta","mediameta","meta-main-container","metaMainContainer","meta-main","metaMain","meta-item","metaItem","meta-number","metaNumber","294","TimeSince","config","format","account","stats","integrations","map","stat","undefined","network","295","dom","content","all","slice","medium","large","small","banner","id","bannerImage","style","backgroundImage","296","AccountFooter","AccountHeader","Collapsable","Err","Loading","entityLabel","urls","analytics","hovered","bool","noImage","onExpandDescription","noAccountImage","err","loaded","print","header","nameContainer","verified","text","dangerouslySetInnerHTML","__html","footer","297","arrayOf","onChange","index","window","addEventListener","onWindowKeyDown","next","how","min","previous","max","keyCode","carousel","arrows","leftArrow","partial","rightArrow","298","299","parseInt","300","onShare","accountImage","accountName","shareOnFacebook","shareOnTwitter","301","ContentDescription","ContentFooter","ContentHeader","Discussions","Media","302","DiscussionComment","comment","onClickText","commentContainer","accountImageContainer","empty","discussion","comments","statNumber","replies","Boolean","reply","303","discussionRequest","type","pick","for","ownProps","discussions","entities","array","selected","clicked","select","onClickCommentText","tagName","toLowerCase","parentNode","open","discussionsContainer","tabsContainer","tabs","tab","304","gif","onLoad","poster","muted","autoPlay","loop","controls","onLoadStart","onLoadedData","onPlay","305","AccountHovercard","ContentHovercard","PADDING_FROM_EDGES","TIMEOUT_BEFORE_CLOSE","entity","event","onClose","offset","onClickElement","clearCloseTimeout","setCloseTimeout","onWindowBlur","positionHovercard","omit","mountedTime","loadedTime","hasScrolled","scrolledAmount","removeEventListener","closeTimeout","closeHovercard","onMouseLeave","top","scrollY","innerHeight","hovercard","pageY","left","scrollX","pageX","innerWidth","offsetWidth","setScrollPosition","relatedTarget","scrollTop","linkEntity","parse","lockDocument","body","lockBody","onMouseMove","firstHoveredTime","activeElement","entityOrRequest","onScroll","306","acceptRequest","parents","domain","chain","parent","isEmpty","createStructuredSelector","Hovercard","TIMEOUT_BEFORE_CARD","property","options","hovercards","incrementingId","considerElement","contains","nodeName","lastElement","findWhere","currentParent","push","checks","reddit","enabled","location","hostname","endsWith","anotherElement","result","find","check","dataset","expandedUrl","fullUrl","waitForHovercard","abandon","cleanup","updateEvent","that","newEvent","removeHovercard","without","307","309","Carousel","Gif","OEmbed","SoundCloudPlayer","Video","YoutubeVideo","onCarouselChange","media","item","oembed","video","images","310","massageIframe","iframe","container","height","width","oembedContainer","312","errors","promisify","statics","getSC","SC","Error","constant","fetch","response","ok","FeathersError","eval","player","Widget","Events","ERROR","time_offset","PLAY","seekTo","READY","play","setVolume","encodeURI","scrolling","frameBorder","313","playing","togglePlaying","314","compose","getYT","YT","YTConfig","host","l","ready","f","onYTReady","setConfig","c","k","Player","events","onReady","onError","mute","unMute","origin","allowFullScreen","715","promise","runtime","sendMessage","payload","717","createAction","720","initialState","authentication","722","setEntity","label","dispatch","getState","724","imgur","instagram","soundcloud","twitter","youtube","725","banner-image","726","name-container","727","right-arrow","left-arrow","728","729","730","share","share-on-facebook","share-on-twitter","731","732","comment-container","account-image-container","account-image","account-name","stat-number","733","discussions-container","tabs-container","734","shake","735","736","lock-document","lock-body","737","738","740","loading-container","741","742","oembed-container","744","745","746"],"mappings":"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","file":"top-frame.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(17);\n\t__webpack_require__(171);\n\tvar Provider = __webpack_require__(31).Provider;\n\tvar React = __webpack_require__(7);\n\tvar ReactDOM = __webpack_require__(233);\n\t\n\tvar Hovercards = __webpack_require__(306);\n\tvar createStore = __webpack_require__(720);\n\t\n\tvar element = document.documentElement.insertBefore(document.createElement('div'), null);\n\telement.className = 'hovercards-root';\n\t\n\tReactDOM.render(React.createElement(\n\t\tProvider,\n\t\t{ store: createStore() },\n\t\tReact.createElement(Hovercards, null)\n\t), element);\n\n/***/ },\n\n/***/ 45:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tmodule.exports = _extends({}, __webpack_require__(715), __webpack_require__(717), __webpack_require__(722));\n\n/***/ },\n\n/***/ 93:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(2);\n\t\n\tmodule.exports.hasClass = function (element, classNames) {\n\t\t// Based off of jQuery 1.5.0\n\t\treturn _.every([].concat(classNames), function (className) {\n\t\t\treturn (' ' + element.className + ' ').replace(/[\\n\\t\\r]/g, ' ').indexOf(' ' + className + ' ') > -1;\n\t\t});\n\t};\n\t\n\tmodule.exports.addClass = function (element, value) {\n\t\t// Based off of jQuery 1.5.0\n\t\tif (element.nodeType !== 1) {\n\t\t\treturn;\n\t\t}\n\t\tif (!element.className) {\n\t\t\telement.className = value;\n\t\t\treturn;\n\t\t}\n\t\tvar className = ' ' + element.className + ' ';\n\t\tvar setClass = element.className;\n\t\n\t\t(value || '').split(/\\s+/).forEach(function (aClassName) {\n\t\t\tif (className.indexOf(' ' + aClassName + ' ') < 0) {\n\t\t\t\tsetClass += ' ' + aClassName;\n\t\t\t}\n\t\t});\n\t\telement.className = setClass.trim();\n\t};\n\t\n\tmodule.exports.removeClass = function (element, value) {\n\t\t// Based off of jQuery 1.5.0\n\t\tif (element.nodeType !== 1 || !element.className) {\n\t\t\treturn;\n\t\t}\n\t\tvar className = (' ' + element.className + ' ').replace(/[\\n\\t\\r]/g, ' ');\n\t\n\t\t(value || '').split(/\\s+/).forEach(function (aClassName) {\n\t\t\tclassName = className.replace(' ' + aClassName + ' ', ' ');\n\t\t});\n\t\n\t\telement.className = className.trim();\n\t};\n\t\n\tmodule.exports.massageUrl = function (url) {\n\t\tif (!url) {\n\t\t\treturn null;\n\t\t}\n\t\tif (url === '#') {\n\t\t\treturn null;\n\t\t}\n\t\tif (url.match(/^javascript:.*/)) {\n\t\t\treturn null;\n\t\t}\n\t\tvar a = document.createElement('a');\n\t\ta.href = url;\n\t\turl = a.href;\n\t\ta.href = '';\n\t\tif (a.remove) {\n\t\t\ta.remove();\n\t\t}\n\t\tif (url === document.URL + '#') {\n\t\t\treturn null;\n\t\t}\n\t\treturn url;\n\t};\n\t\n\tmodule.exports.imageLoaded = function (src) {\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tvar img = new Image();\n\t\t\timg.onload = resolve;\n\t\t\timg.onerror = reject;\n\t\t\timg.src = src;\n\t\t});\n\t};\n\n/***/ },\n\n/***/ 119:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\tvar connect = __webpack_require__(31).connect;\n\t\n\tvar actions = __webpack_require__(45);\n\tvar browser = __webpack_require__(9);\n\tvar report = __webpack_require__(17);\n\tvar styles = __webpack_require__(734);\n\t\n\tmodule.exports = connect(null, actions)(React.createClass({\n\t\tdisplayName: 'Err',\n\t\tpropTypes: {\n\t\t\tauthenticate: React.PropTypes.func.isRequired,\n\t\t\tclassName: React.PropTypes.string,\n\t\t\terror: React.PropTypes.object.isRequired,\n\t\t\tgetEntity: React.PropTypes.func.isRequired\n\t\t},\n\t\tonClickCTA: function () {\n\t\t\treturn this.props.authenticate({ api: this.props.error.request && this.props.error.request.api }).then(function () {\n\t\t\t\tif (!this.isMounted()) {\n\t\t\t\t\t// HACK isMounted is an anti-pattern https://facebook.github.io/react/blog/2015/12/16/ismounted-antipattern.html\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn this.props.getEntity(this.props.error.request);\n\t\t\t}.bind(this)).catch(report.catchException);\n\t\t},\n\t\trender: function () {\n\t\t\tvar integration = this.props.error.request && this.props.error.request.api;\n\t\t\tvar cta = browser.i18n.getMessage('err_' + (this.props.error.code || 500) + '_cta_of_' + integration) || browser.i18n.getMessage('err_' + (this.props.error.code || 500) + '_cta');\n\t\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: classnames(styles.error, this.props.className) },\n\t\t\t\tReact.createElement('div', { className: styles.image }),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: styles.description },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'b',\n\t\t\t\t\t\t{ className: styles.name },\n\t\t\t\t\t\tbrowser.i18n.getMessage('err_' + (this.props.error.code || 500) + '_name_of_' + integration, [browser.i18n.getMessage('name_of_' + integration)]) || browser.i18n.getMessage('err_' + (this.props.error.code || 500) + '_name', [browser.i18n.getMessage('name_of_' + integration)])\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'p',\n\t\t\t\t\t\t{ className: styles.name },\n\t\t\t\t\t\tbrowser.i18n.getMessage('err_' + (this.props.error.code || 500) + '_text_of_' + integration, [browser.i18n.getMessage('name_of_' + integration)]) || browser.i18n.getMessage('err_' + (this.props.error.code || 500) + '_text', [browser.i18n.getMessage('name_of_' + integration)])\n\t\t\t\t\t),\n\t\t\t\t\tcta && React.createElement(\n\t\t\t\t\t\t'a',\n\t\t\t\t\t\t{ className: classnames(styles[integration], styles.cta), onClick: this.onClickCTA },\n\t\t\t\t\t\tcta\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}));\n\n/***/ },\n\n/***/ 120:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\t\n\tvar styles = __webpack_require__(740);\n\t\n\t// TODO https://github.com/kogg/hovercards/issues/33\n\tmodule.exports = React.createClass({\n\t\tdisplayName: 'Loading',\n\t\tpropTypes: {\n\t\t\tclassName: React.PropTypes.string\n\t\t},\n\t\trender: function () {\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: classnames(styles.loadingContainer, this.props.className) },\n\t\t\t\tReact.createElement('div', { className: styles.loading })\n\t\t\t);\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 175:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(2);\n\t\n\tvar browser = __webpack_require__(9);\n\t\n\tvar units = ['', 'x_thousand', 'x_million', 'x_billion', 'x_trillion'];\n\t\n\tmodule.exports.number = function (number) {\n\t\tif (!_.isNumber(number) || _.isNaN(number)) {\n\t\t\treturn number;\n\t\t}\n\t\tif (number < 10000) {\n\t\t\treturn number.toLocaleString();\n\t\t}\n\t\tvar log1000 = Math.floor(Math.log10(number) / 3);\n\t\tvar multiple1000 = number / Math.pow(1000, log1000);\n\t\tvar roundto = Math.pow(10, 2 - Math.floor(Math.log10(multiple1000)));\n\t\tmultiple1000 = Math.round(multiple1000 * roundto) / roundto;\n\t\n\t\tif (!log1000) {\n\t\t\treturn multiple1000.toLocaleString();\n\t\t}\n\t\treturn browser.i18n.getMessage(units[log1000], [multiple1000.toLocaleString()]);\n\t};\n\n/***/ },\n\n/***/ 177:\n/***/ function(module, exports, __webpack_require__) {\n\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\t\n\tvar styles = __webpack_require__(728);\n\t\n\tmodule.exports = React.createClass({\n\t\tdisplayName: 'Collapsable',\n\t\tpropTypes: {\n\t\t\tchildren: React.PropTypes.node.isRequired,\n\t\t\tclassName: React.PropTypes.string,\n\t\t\tonExpand: React.PropTypes.func.isRequired,\n\t\t\tonResize: React.PropTypes.func.isRequired\n\t\t},\n\t\tgetInitialState: function () {\n\t\t\treturn { expanded: false, collapsable: true };\n\t\t},\n\t\tcomponentDidMount: function () {\n\t\t\tif (this.refs.collapsable.scrollHeight < this.refs.collapsable.offsetHeight + 5) {\n\t\t\t\treturn this.setState({ collapsable: false });\n\t\t\t}\n\t\t},\n\t\tcomponentDidUpdate: function (prevProps, prevState) {\n\t\t\tif (this.state.expanded === prevState.expanded && this.state.collapsable === prevState.collapsable) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.props.onResize();\n\t\t},\n\t\tonExpand: function (e) {\n\t\t\tif (this.state.expanded || !this.state.collapsable) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tthis.setState({ expanded: true });\n\t\t\tthis.props.onExpand();\n\t\t},\n\t\trender: function () {\n\t\t\tvar _classnames;\n\t\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ ref: 'collapsable',\n\t\t\t\t\tclassName: classnames(styles.collapsable, (_classnames = {}, _defineProperty(_classnames, styles.collapsed, !this.state.expanded && this.state.collapsable), _defineProperty(_classnames, styles.expanded, this.state.expanded || !this.state.collapsable), _classnames), this.props.className),\n\t\t\t\t\tonClick: this.onExpand },\n\t\t\t\tthis.props.children\n\t\t\t);\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 178:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(2);\n\tvar React = __webpack_require__(7);\n\t\n\tvar browser = __webpack_require__(9);\n\t\n\tvar units = [{ copy: 'x_seconds', value: -1 }, { copy: 'x_seconds', value: 1000 }, { copy: 'x_minutes', value: 1000 * 60 }, { copy: 'x_hours', value: 1000 * 60 * 60 }, { copy: 'x_days', value: 1000 * 60 * 60 * 24 }, { copy: 'x_months', value: 1000 * 60 * 60 * 24 * 31 }, { copy: 'x_years', value: 1000 * 60 * 60 * 24 * 31 * 12 }];\n\t\n\tmodule.exports = React.createClass({\n\t\tdisplayName: 'TimeSince',\n\t\tpropTypes: {\n\t\t\tdate: React.PropTypes.number.isRequired\n\t\t},\n\t\tgetInitialState: function () {\n\t\t\treturn { timesince: '' };\n\t\t},\n\t\tcomponentDidMount: function () {\n\t\t\tthis.componentWillReceiveProps();\n\t\t},\n\t\tcomponentWillReceiveProps: function (nextProps) {\n\t\t\tclearTimeout(this.timeout);\n\t\t\tvar date = new Date((nextProps || this.props).date);\n\t\n\t\t\tvar now = new Date();\n\t\t\tvar now_with_date_time = new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds()));\n\t\t\t// This difference pretends that months are exactly 31 days.\n\t\t\tvar difference = now - now_with_date_time + 1000 * 60 * 60 * 24 * (now.getUTCDate() - date.getUTCDate() + 31 * (now.getUTCMonth() - date.getUTCMonth() + 12 * (now.getUTCFullYear() - date.getUTCFullYear())));\n\t\t\tvar unit = units[_.sortedIndex(units, { value: difference }, 'value') - 1];\n\t\t\tvar value = Math.floor(difference / unit.value);\n\t\n\t\t\tthis.setState({ timesince: browser.i18n.getMessage(unit.copy, [value]) });\n\t\t\tthis.timeout = setTimeout(this.componentWillReceiveProps.bind(this), date + (value + 1) * unit.value - now);\n\t\t},\n\t\tcomponentWillUnmount: function () {\n\t\t\tclearTimeout(this.timeout);\n\t\t},\n\t\trender: function () {\n\t\t\treturn React.createElement(\n\t\t\t\t'span',\n\t\t\t\t{ className: this.props.className, title: new Date(this.props.date).toLocaleString() },\n\t\t\t\tthis.state.timesince\n\t\t\t);\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 286:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"meta\":\"_1GthKZXF2a8LnthNT8gvOH _3bT6jN_JQ9nffl6b5IP6fU _15FuGYQoG9kn3jJN0YYnQ-\",\"mediameta\":\"_3bFm6eSx_pcOUb33ggc8LJ\",\"meta-main-container\":\"p12O-mpbKQ0PEVeb40OLy\",\"metaMainContainer\":\"p12O-mpbKQ0PEVeb40OLy\",\"meta-main\":\"KheWzlLE9P6e7s_v1alZa\",\"metaMain\":\"KheWzlLE9P6e7s_v1alZa\",\"meta-item\":\"QMIoqkURbSnmZj4DMAeXB\",\"metaItem\":\"QMIoqkURbSnmZj4DMAeXB\",\"meta-number\":\"_3K6vL4Flcorr6ysdsQW8We\",\"metaNumber\":\"_3K6vL4Flcorr6ysdsQW8We\"};\n\n/***/ },\n\n/***/ 294:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\t\n\tvar TimeSince = __webpack_require__(178);\n\tvar browser = __webpack_require__(9);\n\tvar config = __webpack_require__(26);\n\tvar format = __webpack_require__(175);\n\tvar styles = _extends({}, __webpack_require__(286), __webpack_require__(724));\n\t\n\tmodule.exports = React.createClass({\n\t\tdisplayName: 'AccountFooter',\n\t\tpropTypes: {\n\t\t\taccount: React.PropTypes.object.isRequired,\n\t\t\tclassName: React.PropTypes.string\n\t\t},\n\t\trender: function () {\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: classnames(styles.meta, this.props.className) },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: styles.metaMainContainer },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: styles.metaMain },\n\t\t\t\t\t\tthis.props.account.stats && config.integrations[this.props.account.api].account.stats.map(function (stat) {\n\t\t\t\t\t\t\tif (stat === 'date') {\n\t\t\t\t\t\t\t\treturn React.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t{ key: stat, className: styles.metaItem },\n\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t'em',\n\t\t\t\t\t\t\t\t\t\t{ className: styles.metaNumber },\n\t\t\t\t\t\t\t\t\t\tReact.createElement(TimeSince, { date: this.props.account.date })\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t' ',\n\t\t\t\t\t\t\t\t\tbrowser.i18n.getMessage('age_of_' + this.props.account.api) || browser.i18n.getMessage('age')\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.props.account.stats[stat] === undefined) {\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn React.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t{ key: stat, className: styles.metaItem },\n\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t'em',\n\t\t\t\t\t\t\t\t\t{ className: styles.metaNumber, title: this.props.account.stats[stat].toLocaleString() },\n\t\t\t\t\t\t\t\t\tformat.number(this.props.account.stats[stat])\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t' ',\n\t\t\t\t\t\t\t\tbrowser.i18n.getMessage(stat + '_of_' + this.props.account.api) || browser.i18n.getMessage(stat)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\tReact.createElement('i', { className: classnames(styles.network, styles[this.props.account.api]) })\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 295:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\t\n\tvar dom = __webpack_require__(93);\n\tvar styles = __webpack_require__(725);\n\t\n\tmodule.exports = React.createClass({\n\t\tdisplayName: 'AccountHeader',\n\t\tpropTypes: {\n\t\t\taccount: React.PropTypes.object.isRequired,\n\t\t\tclassName: React.PropTypes.string\n\t\t},\n\t\tcomponentDidMount: function () {\n\t\t\tif (this.props.account.content && this.props.account.content.content) {\n\t\t\t\tPromise.all(this.props.account.content.content.slice(0, 3).map(function (content) {\n\t\t\t\t\treturn dom.imageLoaded(content.image.medium || content.image.large || content.image.small);\n\t\t\t\t})).then(this.props.onResize);\n\t\t\t} else if (this.props.account.banner) {\n\t\t\t\tdom.imageLoaded(this.props.account.banner).then(this.props.onResize);\n\t\t\t}\n\t\t},\n\t\tcomponentDidUpdate: function () {\n\t\t\tif (this.props.account.content && this.props.account.content.content) {\n\t\t\t\tPromise.all(this.props.account.content.content.slice(0, 3).map(function (content) {\n\t\t\t\t\treturn dom.imageLoaded(content.image.medium || content.image.large || content.image.small);\n\t\t\t\t})).then(this.props.onResize);\n\t\t\t} else if (this.props.account.banner) {\n\t\t\t\tdom.imageLoaded(this.props.account.banner).then(this.props.onResize);\n\t\t\t}\n\t\t},\n\t\trender: function () {\n\t\t\tif (this.props.account.content && this.props.account.content.content) {\n\t\t\t\treturn React.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: classnames(styles.banner, this.props.className) },\n\t\t\t\t\tthis.props.account.content.content.slice(0, 3).map(function (content, i) {\n\t\t\t\t\t\treturn React.createElement('div', { key: content.id || i, className: styles.bannerImage, style: { backgroundImage: 'url(' + (content.image.medium || content.image.large || content.image.small) + ')' } });\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (this.props.account.banner) {\n\t\t\t\treturn React.createElement('div', { className: classnames(styles.banner, this.props.className), style: { backgroundImage: 'url(' + this.props.account.banner + ')' } });\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 296:\n/***/ function(module, exports, __webpack_require__) {\n\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\tvar connect = __webpack_require__(31).connect;\n\t\n\tvar AccountFooter = __webpack_require__(294);\n\tvar AccountHeader = __webpack_require__(295);\n\tvar Collapsable = __webpack_require__(177);\n\tvar Err = __webpack_require__(119);\n\tvar Loading = __webpack_require__(120);\n\tvar actions = __webpack_require__(45);\n\tvar browser = __webpack_require__(9);\n\tvar config = __webpack_require__(26);\n\tvar dom = __webpack_require__(93);\n\tvar entityLabel = __webpack_require__(38);\n\tvar report = __webpack_require__(17);\n\tvar styles = __webpack_require__(726);\n\tvar urls = __webpack_require__(27);\n\t\n\tmodule.exports = connect(null, actions)(React.createClass({\n\t\tdisplayName: 'AccountHovercard',\n\t\tpropTypes: {\n\t\t\taccount: React.PropTypes.object.isRequired,\n\t\t\tanalytics: React.PropTypes.func.isRequired,\n\t\t\tclassName: React.PropTypes.string,\n\t\t\thovered: React.PropTypes.bool.isRequired,\n\t\t\tonResize: React.PropTypes.func.isRequired\n\t\t},\n\t\tcomponentDidMount: function () {\n\t\t\tif (!config.integrations[this.props.account.api].account.noImage && this.props.account.image) {\n\t\t\t\tdom.imageLoaded(this.props.account.image.medium || this.props.account.image.small || this.props.account.image.large).then(this.props.onResize);\n\t\t\t}\n\t\t},\n\t\tcomponentDidUpdate: function () {\n\t\t\tif (!config.integrations[this.props.account.api].account.noImage && this.props.account.image) {\n\t\t\t\tdom.imageLoaded(this.props.account.image.medium || this.props.account.image.small || this.props.account.image.large).then(this.props.onResize);\n\t\t\t}\n\t\t},\n\t\tonExpandDescription: function () {\n\t\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.account, true), 'Expanded description']).catch(report.catchException);\n\t\t},\n\t\trender: function () {\n\t\t\tvar className = classnames(styles.account, _defineProperty({}, styles.noAccountImage, config.integrations[this.props.account.api].account.noImage), this.props.className);\n\t\n\t\t\tif (this.props.account.err) {\n\t\t\t\treturn React.createElement(Err, { className: className, error: this.props.account.err });\n\t\t\t}\n\t\t\tif (!this.props.account.loaded) {\n\t\t\t\treturn React.createElement(Loading, { className: className });\n\t\t\t}\n\t\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: className },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'a',\n\t\t\t\t\t{ href: urls.print(this.props.account), target: '_blank' },\n\t\t\t\t\tReact.createElement(AccountHeader, { className: styles.header, account: this.props.account }),\n\t\t\t\t\t!config.integrations[this.props.account.api].account.noImage && this.props.account.image && React.createElement('span', { className: styles.image, style: { backgroundImage: 'url(' + (this.props.account.image.medium || this.props.account.image.small || this.props.account.image.large) + ')' } }),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: styles.nameContainer },\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t{ className: styles.name },\n\t\t\t\t\t\t\tthis.props.account.name || browser.i18n.getMessage('account_id_of_' + this.props.account.api, [this.props.account.id]) || browser.i18n.getMessage('account_id', [this.props.account.id]) || browser.i18n.getMessage('empty_account_id_of_' + this.props.account.api)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tthis.props.account.verified && React.createElement('span', { className: styles.verified })\n\t\t\t\t\t),\n\t\t\t\t\tthis.props.account.text && React.createElement(\n\t\t\t\t\t\tCollapsable,\n\t\t\t\t\t\t{ className: styles.description, onExpand: this.onExpandDescription, onResize: this.props.onResize },\n\t\t\t\t\t\tReact.createElement('p', { className: styles.text, dangerouslySetInnerHTML: { __html: this.props.account.text } })\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(AccountFooter, { className: styles.footer, account: this.props.account })\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}));\n\n/***/ },\n\n/***/ 297:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(2);\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\t\n\tvar styles = __webpack_require__(727);\n\t\n\tmodule.exports = React.createClass({\n\t\tdisplayName: 'Carousel',\n\t\tpropTypes: {\n\t\t\tchildren: React.PropTypes.arrayOf(React.PropTypes.node).isRequired,\n\t\t\tclassName: React.PropTypes.string,\n\t\t\tonChange: React.PropTypes.func.isRequired,\n\t\t\tonResize: React.PropTypes.func.isRequired\n\t\t},\n\t\tgetInitialState: function () {\n\t\t\treturn { index: 0 };\n\t\t},\n\t\tcomponentDidMount: function () {\n\t\t\twindow.addEventListener('keydown', this.onWindowKeyDown);\n\t\t},\n\t\tcomponentWillUnmount: function () {\n\t\t\twindow.addEventListener('keydown', this.onWindowKeyDown);\n\t\t},\n\t\tnext: function (how) {\n\t\t\tvar index = Math.min(this.props.children.length - 1, this.state.index + 1);\n\t\t\tthis.setState({ index: index }, this.props.onResize);\n\t\t\tthis.props.onChange(index, how);\n\t\t},\n\t\tprevious: function (how) {\n\t\t\tvar index = Math.max(0, this.state.index - 1);\n\t\t\tthis.setState({ index: index }, this.props.onResize);\n\t\t\tthis.props.onChange(index, how);\n\t\t},\n\t\tonWindowKeyDown: function (e) {\n\t\t\tswitch (e.keyCode) {\n\t\t\t\tcase 37:\n\t\t\t\tcase 72:\n\t\t\t\t\tif (this.state.index === 0) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.previous('keydown');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 39:\n\t\t\t\tcase 76:\n\t\t\t\t\tif (this.state.index === this.props.children.length - 1) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.next('keydown');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\trender: function () {\n\t\t\tif (this.props.children.length === 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: classnames(styles.carousel, this.props.className) },\n\t\t\t\tthis.props.children.length > 1 && React.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: styles.arrows },\n\t\t\t\t\tthis.state.index > 0 && React.createElement('div', { className: styles.leftArrow, onClick: _.partial(this.previous, 'click') }),\n\t\t\t\t\tthis.state.index < this.props.children.length - 1 && React.createElement('div', { className: styles.rightArrow, onClick: _.partial(this.next, 'click') })\n\t\t\t\t),\n\t\t\t\tthis.props.children[this.state.index]\n\t\t\t);\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 298:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\tvar connect = __webpack_require__(31).connect;\n\t\n\tvar Collapsable = __webpack_require__(177);\n\tvar actions = __webpack_require__(45);\n\tvar entityLabel = __webpack_require__(38);\n\tvar report = __webpack_require__(17);\n\tvar styles = __webpack_require__(729);\n\tvar urls = __webpack_require__(27);\n\t\n\tmodule.exports = connect(null, actions)(React.createClass({\n\t\tdisplayName: 'ContentDescription',\n\t\tpropTypes: {\n\t\t\tanalytics: React.PropTypes.func.isRequired,\n\t\t\tclassName: React.PropTypes.string,\n\t\t\tcontent: React.PropTypes.object.isRequired,\n\t\t\tonResize: React.PropTypes.func.isRequired\n\t\t},\n\t\tcomponentDidUpdate: function (prevProps) {\n\t\t\tif (this.props.content === prevProps.content) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.props.onResize();\n\t\t},\n\t\tonExpandDescription: function () {\n\t\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.content, true), 'Expanded description']).catch(report.catchException);\n\t\t},\n\t\trender: function () {\n\t\t\treturn this.props.content.name || this.props.content.text ? React.createElement(\n\t\t\t\tCollapsable,\n\t\t\t\t{ className: classnames(styles.description, this.props.className), onExpand: this.onExpandDescription, onResize: this.props.onResize },\n\t\t\t\tthis.props.content.name && React.createElement(\n\t\t\t\t\t'a',\n\t\t\t\t\t{ className: styles.name, href: this.props.content.url || urls.print(this.props.content), target: '_blank' },\n\t\t\t\t\tthis.props.content.name\n\t\t\t\t),\n\t\t\t\tthis.props.content.text && React.createElement('p', { className: styles.text, dangerouslySetInnerHTML: { __html: this.props.content.text } })\n\t\t\t) : null;\n\t\t}\n\t}));\n\n/***/ },\n\n/***/ 299:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\t\n\tvar TimeSince = __webpack_require__(178);\n\tvar browser = __webpack_require__(9);\n\tvar config = __webpack_require__(26);\n\tvar format = __webpack_require__(175);\n\tvar styles = __webpack_require__(286);\n\tvar urls = __webpack_require__(27);\n\t\n\tmodule.exports = React.createClass({\n\t\tdisplayName: 'ContentFooter',\n\t\tpropTypes: {\n\t\t\tclassName: React.PropTypes.string,\n\t\t\tcontent: React.PropTypes.object.isRequired\n\t\t},\n\t\trender: function () {\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: styles.mediameta },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: classnames(styles.meta, this.props.className) },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: styles.metaMainContainer },\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: styles.metaMain },\n\t\t\t\t\t\t\tthis.props.content.stats && config.integrations[this.props.content.api].content.stats.map(function (stat) {\n\t\t\t\t\t\t\t\tif (this.props.content.stats[stat] === undefined || this.props.content.stats[stat] === null) {\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar number = stat.match(/_ratio$/) ? parseInt(this.props.content.stats[stat] * 100, 10) + '%' : format.number(this.props.content.stats[stat]);\n\t\t\t\t\t\t\t\treturn React.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t{ key: stat, className: styles.metaItem },\n\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t'em',\n\t\t\t\t\t\t\t\t\t\t{ className: styles.metaNumber, title: this.props.content.stats[stat].toLocaleString() },\n\t\t\t\t\t\t\t\t\t\tnumber\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t' ',\n\t\t\t\t\t\t\t\t\tbrowser.i18n.getMessage(stat + '_of_' + this.props.content.api) || browser.i18n.getMessage(stat)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tthis.props.content.date && React.createElement(\n\t\t\t\t\t\t\t'a',\n\t\t\t\t\t\t\t{ className: styles.metaItem, href: urls.print(this.props.content) || this.props.content.url, target: '_blank' },\n\t\t\t\t\t\t\tReact.createElement(TimeSince, { date: this.props.content.date })\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 300:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(2);\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\tvar connect = __webpack_require__(31).connect;\n\t\n\tvar browser = __webpack_require__(9);\n\tvar actions = __webpack_require__(45);\n\tvar config = __webpack_require__(26);\n\tvar entityLabel = __webpack_require__(38);\n\tvar report = __webpack_require__(17);\n\tvar styles = __webpack_require__(730);\n\tvar urls = __webpack_require__(27);\n\t\n\tmodule.exports = connect(null, actions)(React.createClass({\n\t\tdisplayName: 'ContentHeader',\n\t\tpropTypes: {\n\t\t\tanalytics: React.PropTypes.func.isRequired,\n\t\t\tclassName: React.PropTypes.string,\n\t\t\tcontent: React.PropTypes.object.isRequired\n\t\t},\n\t\tonShare: function (network, e) {\n\t\t\te.stopPropagation();\n\t\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.content, true), 'Shared', network]).catch(report.catchException);\n\t\t},\n\t\trender: function () {\n\t\t\tvar accountImage = !config.integrations[this.props.content.api].account.noImage && this.props.content.account && this.props.content.account.image && (this.props.content.account.image.small || this.props.content.account.image.medium || this.props.content.account.image.large);\n\t\t\tvar accountName = this.props.content.account && (this.props.content.account.name || browser.i18n.getMessage('account_id_of_' + this.props.content.account.api, [this.props.content.account.id]) || browser.i18n.getMessage('account_id', [this.props.content.account.id])) || browser.i18n.getMessage('empty_account_id_of_' + (this.props.content.account && this.props.content.account.api || this.props.content.api));\n\t\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: classnames(styles.header, this.props.className) },\n\t\t\t\taccountImage && React.createElement('a', { className: styles.image, href: urls.print(this.props.content.account), style: { backgroundImage: 'url(' + accountImage + ')' }, target: '_blank' }),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: styles.nameContainer },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'a',\n\t\t\t\t\t\t{ className: styles.name, href: urls.print(this.props.content.account), target: '_blank' },\n\t\t\t\t\t\taccountName\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tReact.createElement('a', { className: styles.shareOnFacebook, href: 'https://www.facebook.com/sharer/sharer.php?u=' + (this.props.content.url || urls.print(this.props.content)), target: '_blank', onClick: _.partial(this.onShare, 'facebook') }),\n\t\t\t\tReact.createElement('a', { className: styles.shareOnTwitter, href: 'https://twitter.com/intent/tweet?url=' + (this.props.content.url || urls.print(this.props.content)) + '&via=hovercards&source=https://hovercards.com', target: '_blank', onClick: _.partial(this.onShare, 'twitter') })\n\t\t\t);\n\t\t}\n\t}));\n\n/***/ },\n\n/***/ 301:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\t\n\tvar ContentDescription = __webpack_require__(298);\n\tvar ContentFooter = __webpack_require__(299);\n\tvar ContentHeader = __webpack_require__(300);\n\tvar Discussions = __webpack_require__(303);\n\tvar Err = __webpack_require__(119);\n\tvar Loading = __webpack_require__(120);\n\tvar Media = __webpack_require__(309);\n\tvar styles = __webpack_require__(731);\n\t\n\tmodule.exports = React.createClass({\n\t\tdisplayName: 'ContentHovercard',\n\t\tpropTypes: {\n\t\t\tclassName: React.PropTypes.string,\n\t\t\tcontent: React.PropTypes.object.isRequired,\n\t\t\thovered: React.PropTypes.bool.isRequired,\n\t\t\tmeta: React.PropTypes.object.isRequired,\n\t\t\tonResize: React.PropTypes.func.isRequired\n\t\t},\n\t\trender: function () {\n\t\t\tvar className = classnames(styles.content, this.props.className);\n\t\n\t\t\tif (this.props.content.err) {\n\t\t\t\treturn React.createElement(Err, { className: className, error: this.props.content.err });\n\t\t\t}\n\t\t\tif (!this.props.content.loaded) {\n\t\t\t\treturn React.createElement(Loading, { className: className });\n\t\t\t}\n\t\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: className },\n\t\t\t\tReact.createElement(ContentHeader, { content: this.props.content }),\n\t\t\t\tReact.createElement(ContentDescription, { content: this.props.content, onResize: this.props.onResize }),\n\t\t\t\tReact.createElement(Media, { content: this.props.content, hovered: this.props.hovered, meta: this.props.meta, onResize: this.props.onResize }),\n\t\t\t\tReact.createElement(ContentFooter, { content: this.props.content }),\n\t\t\t\tReact.createElement(Discussions, { content: this.props.content, onResize: this.props.onResize })\n\t\t\t);\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 302:\n/***/ function(module, exports, __webpack_require__) {\n\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\t\n\tvar browser = __webpack_require__(9);\n\tvar config = __webpack_require__(26);\n\tvar format = __webpack_require__(175);\n\tvar styles = __webpack_require__(732);\n\tvar urls = __webpack_require__(27);\n\t\n\tvar DiscussionComment = module.exports = React.createClass({\n\t\tdisplayName: 'DiscussionComment',\n\t\tpropTypes: {\n\t\t\tclassName: React.PropTypes.string,\n\t\t\tcomment: React.PropTypes.object.isRequired,\n\t\t\tintegration: React.PropTypes.string.isRequired,\n\t\t\tonClickText: React.PropTypes.func.isRequired\n\t\t},\n\t\trender: function () {\n\t\t\tvar accountImage = !config.integrations[this.props.integration].account.noImage && this.props.comment.account && this.props.comment.account.image && (this.props.comment.account.image.medium || this.props.comment.account.image.large || this.props.comment.account.image.small);\n\t\t\tvar accountName = this.props.comment.account && (this.props.comment.account.name || browser.i18n.getMessage('account_id_of_' + this.props.integration, [this.props.comment.account.id]) || browser.i18n.getMessage('account_id', [this.props.comment.account.id])) || browser.i18n.getMessage('empty_account_id_of_' + this.props.integration);\n\t\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: classnames(styles.commentContainer, this.props.className) },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: styles.comment },\n\t\t\t\t\t!config.integrations[this.props.integration].account.noImage && React.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: styles.accountImageContainer },\n\t\t\t\t\t\tReact.createElement('a', { className: classnames(styles.accountImage, _defineProperty({}, styles.empty, !accountImage)), style: { backgroundImage: accountImage && 'url(' + accountImage + ')' }, href: urls.print(this.props.comment.account) })\n\t\t\t\t\t),\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: styles.description },\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t'a',\n\t\t\t\t\t\t\t{ className: styles.accountName, href: urls.print(this.props.comment.account), target: '_blank' },\n\t\t\t\t\t\t\taccountName\n\t\t\t\t\t\t),\n\t\t\t\t\t\tReact.createElement('p', { className: styles.text, dangerouslySetInnerHTML: { __html: this.props.comment.text }, onClick: this.props.onClickText }),\n\t\t\t\t\t\tconfig.integrations[this.props.integration].discussion.comments && config.integrations[this.props.integration].discussion.comments.stats && React.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tconfig.integrations[this.props.integration].discussion.comments.stats.map(function (stat) {\n\t\t\t\t\t\t\t\tif (this.props.comment.stats[stat] === undefined) {\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar number = format.number(this.props.comment.stats[stat]);\n\t\n\t\t\t\t\t\t\t\treturn React.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t{ key: stat, className: styles.stat },\n\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t'em',\n\t\t\t\t\t\t\t\t\t\t{ className: styles.statNumber, title: this.props.comment.stats[stat].toLocaleString() },\n\t\t\t\t\t\t\t\t\t\tnumber\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t' ',\n\t\t\t\t\t\t\t\t\tbrowser.i18n.getMessage(stat + '_of_' + this.props.integration) || browser.i18n.getMessage(stat)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tthis.props.comment.replies && Boolean(this.props.comment.replies.length) && React.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: styles.replies },\n\t\t\t\t\tthis.props.comment.replies && this.props.comment.replies.map(function (reply, i) {\n\t\t\t\t\t\treturn React.createElement(DiscussionComment, { key: reply.id || i, comment: reply, integration: this.props.integration, onClickText: this.props.onClickText });\n\t\t\t\t\t}.bind(this))\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 303:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar _ = __webpack_require__(2);\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\tvar connect = __webpack_require__(31).connect;\n\t\n\tvar DiscussionComment = __webpack_require__(302);\n\tvar Err = __webpack_require__(119);\n\tvar Loading = __webpack_require__(120);\n\tvar actions = __webpack_require__(45);\n\tvar browser = __webpack_require__(9);\n\tvar config = __webpack_require__(26);\n\tvar entityLabel = __webpack_require__(38);\n\tvar report = __webpack_require__(17);\n\tvar styles = __webpack_require__(733);\n\t\n\tmodule.exports = connect(function (state, ownProps) {\n\t\treturn {\n\t\t\tdiscussions: config.integrations[ownProps.content.api].discussion.integrations.map(function (integration) {\n\t\t\t\tvar request = discussionRequest(ownProps.content, integration);\n\t\n\t\t\t\treturn state.entities[entityLabel(request)] || request;\n\t\t\t})\n\t\t};\n\t}, actions)(React.createClass({\n\t\tdisplayName: 'Discussions',\n\t\tpropTypes: {\n\t\t\tanalytics: React.PropTypes.func.isRequired,\n\t\t\tclassName: React.PropTypes.string,\n\t\t\tcontent: React.PropTypes.object.isRequired,\n\t\t\tdiscussions: React.PropTypes.array.isRequired,\n\t\t\tgetEntity: React.PropTypes.func.isRequired,\n\t\t\tonResize: React.PropTypes.func.isRequired\n\t\t},\n\t\tgetInitialState: function () {\n\t\t\treturn { loaded: {} };\n\t\t},\n\t\tcomponentDidMount: function () {\n\t\t\tthis.props.getEntity(this.props.discussions[0]).catch(report.catchException);\n\t\t\tthis.setState({ loaded: _extends({}, this.state.loaded, { 0: true }) });\n\t\t},\n\t\tcomponentDidUpdate: function (prevProps, prevState) {\n\t\t\tif (_.isNumber(this.state.selected) && (this.state.selected !== prevState.selected || this.props.discussions[this.state.selected].loaded !== prevProps.discussions[this.state.selected].loaded || this.props.discussions[this.state.selected].err !== prevProps.discussions[this.state.selected].err)) {\n\t\t\t\tthis.props.onResize();\n\t\t\t}\n\t\t\tif (entityLabel(this.props.content) !== entityLabel(prevProps.content)) {\n\t\t\t\tthis.setState({ selected: this.state.clicked ? this.state.selected : null, loaded: {} });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.props.discussions.forEach(function (discussion, i) {\n\t\t\t\tif (entityLabel(discussion) === entityLabel(prevProps.discussions[i])) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.setState({ loaded: _extends({}, this.state.loaded, _defineProperty({}, i, false)) });\n\t\t\t}.bind(this));\n\t\n\t\t\tif (_.isNumber(this.state.selected)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tfor (var i = 0; i < this.props.discussions.length; i++) {\n\t\t\t\tvar discussion = this.props.discussions[i];\n\t\n\t\t\t\tif (!discussion.loaded && !discussion.err) {\n\t\t\t\t\tif (!this.state.loaded[i]) {\n\t\t\t\t\t\tthis.props.getEntity(discussion).catch(report.catchException);\n\t\t\t\t\t\tthis.setState({ loaded: _extends({}, this.state.loaded, _defineProperty({}, i, true)) });\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif (discussion.comments && discussion.comments.length) {\n\t\t\t\t\tthis.setState({ selected: i });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.setState({ selected: 0 });\n\t\t},\n\t\tselect: function (i) {\n\t\t\tif (!this.state.loaded[i]) {\n\t\t\t\tthis.props.getEntity(this.props.discussions[i]).catch(report.catchException);\n\t\t\t}\n\t\t\tthis.setState({ clicked: true, selected: i, loaded: _extends({}, this.state.loaded, _defineProperty({}, i, true)) });\n\t\t\tif (this.state.selected !== i) {\n\t\t\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.content, true), 'Discussion Selected', entityLabel(this.props.discussions[i], true), i]).catch(report.catchException);\n\t\t\t}\n\t\t},\n\t\tonClickCommentText: function (e) {\n\t\t\tvar element = e.target;\n\t\t\twhile (element && element.tagName.toLowerCase() !== 'a') {\n\t\t\t\tif (element === this.refs.discussion) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\t\t\tif (!element.href) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t\tif (element.target !== '_blank') {\n\t\t\t\te.preventDefault();\n\t\t\t\twindow.open(element.href);\n\t\t\t}\n\t\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.content, true), 'Link Opened', 'in a ' + entityLabel(this.props.discussions[this.state.selected], true)]).catch(report.catchException);\n\t\t},\n\t\trender: function () {\n\t\t\tvar discussion = this.props.discussions[this.state.selected];\n\t\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: classnames(styles.discussionsContainer, this.props.className) },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: styles.discussions },\n\t\t\t\t\t(this.props.discussions.length > 1 || this.props.discussions[0].api !== this.props.content.api) && React.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: styles.tabsContainer },\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: styles.tabs },\n\t\t\t\t\t\t\tthis.props.discussions.map(function (discussion, i) {\n\t\t\t\t\t\t\t\treturn React.createElement(\n\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t{ key: discussion.api, className: classnames(styles.tab, _defineProperty({}, styles.selected, i === this.state.selected)), onClick: _.partial(this.select, i) },\n\t\t\t\t\t\t\t\t\tbrowser.i18n.getMessage('name_of_' + discussion.api)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tdiscussion && discussion.err && React.createElement(Err, { error: discussion.err }),\n\t\t\t\t\t(!discussion || !discussion.err && !discussion.loaded) && React.createElement(Loading, null),\n\t\t\t\t\tdiscussion && !discussion.err && discussion.loaded && discussion.comments && discussion.comments.length && React.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ ref: 'discussion' },\n\t\t\t\t\t\tdiscussion.comments.map(function (comment, i) {\n\t\t\t\t\t\t\treturn React.createElement(DiscussionComment, { key: comment.id || i, comment: comment, integration: discussion.api, onClickText: this.onClickCommentText });\n\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}));\n\t\n\tfunction discussionRequest(content, integration) {\n\t\tif (content.api === integration) {\n\t\t\treturn _extends({ type: 'discussion' }, _.pick(content, 'api', 'id', 'as', 'for', 'account'));\n\t\t}\n\t\treturn { api: integration, type: 'discussion', for: _.pick(content, 'api', 'type', 'id', 'as', 'for', 'account') };\n\t}\n\n/***/ },\n\n/***/ 304:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\t\n\tvar styles = __webpack_require__(735);\n\t\n\tmodule.exports = React.createClass({\n\t\tdisplayName: 'Gif',\n\t\tpropTypes: {\n\t\t\tclassName: React.PropTypes.string,\n\t\t\tgif: React.PropTypes.string.isRequired,\n\t\t\timage: React.PropTypes.object,\n\t\t\tonLoad: React.PropTypes.func.isRequired\n\t\t},\n\t\trender: function () {\n\t\t\treturn React.createElement('video', { className: classnames(styles.gif, this.props.className),\n\t\t\t\tsrc: this.props.gif,\n\t\t\t\tposter: this.props.image && (this.props.image.medium || this.props.image.large || this.props.image.small),\n\t\t\t\tmuted: true,\n\t\t\t\tautoPlay: true,\n\t\t\t\tloop: true,\n\t\t\t\tcontrols: false,\n\t\t\t\tonLoad: this.props.onLoad,\n\t\t\t\tonLoadStart: this.props.onLoad,\n\t\t\t\tonLoadedData: this.props.onLoad,\n\t\t\t\tonPlay: this.props.onLoad });\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 305:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(2);\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\tvar connect = __webpack_require__(31).connect;\n\t\n\tvar AccountHovercard = __webpack_require__(296);\n\tvar ContentHovercard = __webpack_require__(301);\n\tvar actions = __webpack_require__(45);\n\tvar dom = __webpack_require__(93);\n\tvar entityLabel = __webpack_require__(38);\n\tvar report = __webpack_require__(17);\n\tvar styles = __webpack_require__(736);\n\tvar urls = __webpack_require__(27);\n\t\n\tvar PADDING_FROM_EDGES = 10;\n\tvar TIMEOUT_BEFORE_CLOSE = 100;\n\t\n\tmodule.exports = connect(null, actions)(React.createClass({\n\t\tdisplayName: 'Hovercard',\n\t\tpropTypes: {\n\t\t\tanalytics: React.PropTypes.func.isRequired,\n\t\t\tclassName: React.PropTypes.string,\n\t\t\telement: React.PropTypes.object.isRequired,\n\t\t\tentity: React.PropTypes.object,\n\t\t\tevent: React.PropTypes.object.isRequired,\n\t\t\tgetEntity: React.PropTypes.func.isRequired,\n\t\t\trequest: React.PropTypes.object.isRequired,\n\t\t\tonClose: React.PropTypes.func.isRequired\n\t\t},\n\t\tgetInitialState: function () {\n\t\t\treturn { hovered: false, offset: {} };\n\t\t},\n\t\tcomponentDidMount: function () {\n\t\t\tthis.props.element.addEventListener('click', this.onClickElement);\n\t\t\tthis.props.element.addEventListener('mousemove', this.clearCloseTimeout);\n\t\t\tthis.props.element.addEventListener('mouseleave', this.setCloseTimeout);\n\t\t\twindow.addEventListener('blur', this.onWindowBlur);\n\t\t\twindow.addEventListener('scroll', this.positionHovercard);\n\t\t\twindow.addEventListener('resize', this.positionHovercard);\n\t\t\tthis.positionHovercard();\n\t\t\tthis.props.getEntity(_.omit(this.props.request, 'meta')).catch(report.catchException);\n\t\t\tthis.mountedTime = Date.now();\n\t\t\tif (this.props.entity && (this.props.entity.loaded || this.props.entity.err)) {\n\t\t\t\tthis.loadedTime = Date.now();\n\t\t\t}\n\t\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.entity || this.props.request, true), 'Hovercard Opened (exclude loading)', (this.props.entity || this.props.request).err && 'error hovercard']).catch(report.catchException);\n\t\t},\n\t\tcomponentDidUpdate: function (prevProps) {\n\t\t\tif (this.loadedTime) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (prevProps.entity && (prevProps.entity.loaded || prevProps.entity.err)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.props.entity || !this.props.entity.loaded && !this.props.entity.err) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.loadedTime = Date.now();\n\t\t},\n\t\tcomponentWillUnmount: function () {\n\t\t\tif (this.loadedTime) {\n\t\t\t\tthis.props.analytics(['send', 'timing', entityLabel(this.props.entity, true), 'Hovercard Open (exclude loading)', Date.now() - this.loadedTime, this.props.entity.err && 'error hovercard']).catch(report.catchException);\n\t\t\t}\n\t\t\tif (this.hasScrolled) {\n\t\t\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.entity, true), 'Hovercard Scrolled', this.props.entity.err && 'error hovercard', this.scrolledAmount]).catch(report.catchException);\n\t\t\t}\n\t\t\tthis.props.element.removeEventListener('click', this.onClickElement);\n\t\t\tthis.props.element.removeEventListener('mousemove', this.clearCloseTimeout);\n\t\t\tthis.props.element.removeEventListener('mouseleave', this.setCloseTimeout);\n\t\t\twindow.removeEventListener('blur', this.onWindowBlur);\n\t\t\twindow.removeEventListener('scroll', this.positionHovercard);\n\t\t\twindow.removeEventListener('resize', this.positionHovercard);\n\t\t},\n\t\tclearCloseTimeout: function () {\n\t\t\tclearTimeout(this.closeTimeout);\n\t\t},\n\t\tcloseHovercard: function () {\n\t\t\tif (false) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.onMouseLeave();\n\t\t\tthis.props.onClose();\n\t\t},\n\t\tpositionHovercard: function () {\n\t\t\tif (!this.isMounted()) {\n\t\t\t\t// HACK isMounted is an anti-pattern https://facebook.github.io/react/blog/2015/12/16/ismounted-antipattern.html\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.setState(function () {\n\t\t\t\treturn {\n\t\t\t\t\toffset: {\n\t\t\t\t\t\ttop: Math.max(window.scrollY + PADDING_FROM_EDGES, // Keep the hovercard from going off the top of the page\n\t\t\t\t\t\tMath.min(window.scrollY + window.innerHeight - this.refs.hovercard.offsetHeight - PADDING_FROM_EDGES, // Keep the hovercard from going off the bottom of the page\n\t\t\t\t\t\tthis.props.event.pageY - Math.min(this.refs.hovercard.offsetHeight / 2, // Keep the hovercard from being above the cursor\n\t\t\t\t\t\t70 // Start the hovercard offset above the cursor\n\t\t\t\t\t\t))),\n\t\t\t\t\t\tleft: Math.max(window.scrollX + PADDING_FROM_EDGES, // Keep the hovercard from going off the left of the page\n\t\t\t\t\t\tthis.props.event.pageX + (this.props.event.pageX + 1 > window.scrollX + window.innerWidth - this.refs.hovercard.offsetWidth - PADDING_FROM_EDGES ? -this.refs.hovercard.offsetWidth - 1 : // Keep the hovercard from going off the right of the page by putting it on the left\n\t\t\t\t\t\t1 // Put the hovercard on the right\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t});\n\t\t\tthis.setScrollPosition();\n\t\t},\n\t\tsetCloseTimeout: function (e) {\n\t\t\tif (e) {\n\t\t\t\tvar element = e.relatedTarget;\n\t\t\t\twhile (element && element !== document.documentElement) {\n\t\t\t\t\tif (element === this.element && element === this.refs.hovercard) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentNode;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.closeTimeout = setTimeout(this.closeHovercard, TIMEOUT_BEFORE_CLOSE);\n\t\t},\n\t\tsetScrollPosition: function (e) {\n\t\t\tthis.hasScrolled = this.hasScrolled || Boolean(e);\n\t\t\tthis.scrolledAmount = Math.max(this.scrolledAmount || 0, this.refs.hovercard.scrollTop);\n\t\t},\n\t\tonClick: function (e) {\n\t\t\tvar element = e.target;\n\t\t\twhile (element && element.tagName.toLowerCase() !== 'a') {\n\t\t\t\tif (element === this.refs.hovercard) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\t\t\tif (!element.href) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\te.stopPropagation();\n\t\t\tif (element.target !== '_blank') {\n\t\t\t\te.preventDefault();\n\t\t\t\twindow.open(element.href);\n\t\t\t}\n\t\t\tvar linkEntity = urls.parse(element.href);\n\t\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.entity || this.props.request, true), 'Link Opened', linkEntity && entityLabel(linkEntity, true)]).catch(report.catchException);\n\t\t},\n\t\tonClickElement: function () {\n\t\t\tthis.closeHovercard();\n\t\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.entity || this.props.request, true), 'Original Link Opened']).catch(report.catchException);\n\t\t},\n\t\tonMouseLeave: function (e) {\n\t\t\tif (!this.state.hovered) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.setCloseTimeout(e);\n\t\t\tthis.setState({ hovered: false });\n\t\t\tdom.removeClass(document.documentElement, styles.lockDocument);\n\t\t\tdom.removeClass(document.body, styles.lockBody);\n\t\t},\n\t\tonMouseMove: function () {\n\t\t\tif (this.state.hovered) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.clearCloseTimeout();\n\t\t\tif (!this.firstHoveredTime) {\n\t\t\t\tthis.firstHoveredTime = Date.now();\n\t\t\t\tthis.props.analytics(['send', 'timing', entityLabel(this.props.entity || this.props.request, true), 'Until hovered on hovercard (include loading)', this.firstHoveredTime - this.mountedTime, (this.props.entity || this.props.request).err && 'error hovercard']).catch(report.catchException);\n\t\t\t}\n\t\t\tthis.setState({ hovered: true });\n\t\t\tdom.addClass(document.documentElement, styles.lockDocument);\n\t\t\tdom.addClass(document.body, styles.lockBody);\n\t\t},\n\t\tonWindowBlur: function () {\n\t\t\tif (document.activeElement.tagName.toLowerCase() === 'iframe') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t/*\n\t   * TODO https://github.com/kogg/hovercards/issues/14\n\t  var element = document.activeElement;\n\t  while (element !== document.documentElement) {\n\t  \tif (element === this.refs.hovercard) {\n\t  \t\treturn;\n\t  \t}\n\t  \telement = element.parentNode;\n\t  }\n\t  */\n\t\t\tthis.closeHovercard();\n\t\t},\n\t\trender: function () {\n\t\t\tvar entityOrRequest = this.props.entity || this.props.request;\n\t\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: classnames(styles.hovercard, this.props.className), style: this.state.offset, ref: 'hovercard',\n\t\t\t\t\tonClick: this.onClick,\n\t\t\t\t\tonMouseMove: this.onMouseMove,\n\t\t\t\t\tonMouseLeave: this.onMouseLeave,\n\t\t\t\t\tonScroll: this.setScrollPosition },\n\t\t\t\tentityOrRequest.type === 'content' ? React.createElement(ContentHovercard, { content: entityOrRequest,\n\t\t\t\t\tmeta: this.props.request.meta || {},\n\t\t\t\t\thovered: this.state.hovered,\n\t\t\t\t\tonResize: this.positionHovercard }) : React.createElement(AccountHovercard, { account: entityOrRequest,\n\t\t\t\t\thovered: this.state.hovered,\n\t\t\t\t\tonResize: this.positionHovercard })\n\t\t\t);\n\t\t}\n\t}));\n\n/***/ },\n\n/***/ 306:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(2);\n\tvar React = __webpack_require__(7);\n\tvar connect = __webpack_require__(31).connect;\n\tvar createStructuredSelector = __webpack_require__(271).createStructuredSelector;\n\t\n\t__webpack_require__(737);\n\tvar Hovercard = __webpack_require__(305);\n\tvar actions = __webpack_require__(45);\n\tvar dom = __webpack_require__(93);\n\tvar entityLabel = __webpack_require__(38);\n\tvar urls = __webpack_require__(27);\n\t\n\tvar TIMEOUT_BEFORE_CARD = 500;\n\t\n\tmodule.exports = connect(createStructuredSelector({\n\t\tentities: _.property('entities'),\n\t\toptions: _.property('options')\n\t}), actions)(React.createClass({\n\t\tdisplayName: 'Hovercards',\n\t\tpropTypes: {\n\t\t\tclassName: React.PropTypes.string,\n\t\t\tentities: React.PropTypes.object.isRequired,\n\t\t\toptions: React.PropTypes.object.isRequired\n\t\t},\n\t\tgetInitialState: function () {\n\t\t\treturn { hovercards: [], incrementingId: 0 };\n\t\t},\n\t\tcomponentDidMount: function () {\n\t\t\tdocument.documentElement.addEventListener('mousemove', this.considerElement);\n\t\t},\n\t\tcomponentWillUnmount: function () {\n\t\t\tdocument.documentElement.removeEventListener('mousemove', this.considerElement);\n\t\t},\n\t\tconsiderElement: function (event) {\n\t\t\tvar element = event.target;\n\t\t\tif (!element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twhile (!_.contains(['a', 'iframe'], (element.nodeName || element.tagName || '').toLowerCase())) {\n\t\t\t\tif (element === document.documentElement || element === this.refs.hovercards || dom.hasClass(element, 'no-hovercards') || dom.hasClass(element, 'hoverZoomLink')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telement = element.parentNode;\n\t\t\t\tif (!element) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.lastElement === element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.lastElement = element;\n\t\t\tif (_.findWhere(this.state.hovercards, { element: element })) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar parents = [];\n\t\t\tvar currentParent = element;\n\t\t\twhile (currentParent !== document.documentElement) {\n\t\t\t\tparents.push(currentParent);\n\t\t\t\tif (currentParent === this.refs.hovercards || dom.hasClass(currentParent, 'no-hovercards') || dom.hasClass(currentParent, 'hoverZoomLink')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcurrentParent = currentParent.parentNode;\n\t\t\t\tif (!currentParent) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar checks = [{ element: element }];\n\t\t\tif (this.props.options.reddit.content.enabled && document.location.hostname.endsWith('reddit.com') && dom.hasClass(element, 'title')) {\n\t\t\t\tvar anotherElement = _.chain(element).result('parentNode').result('parentNode').result('childNodes').find(function (element) {\n\t\t\t\t\treturn dom.hasClass(element, ['flat-list', 'buttons']);\n\t\t\t\t}).result('childNodes').find(function (element) {\n\t\t\t\t\treturn dom.hasClass(element, 'first');\n\t\t\t\t}).result('childNodes').find(function (element) {\n\t\t\t\t\treturn dom.hasClass(element, 'comments');\n\t\t\t\t}).value();\n\t\t\t\tif (anotherElement) {\n\t\t\t\t\tchecks.push({ element: anotherElement });\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar request;\n\t\t\tfor (var i = 0; i < checks.length && !request; i++) {\n\t\t\t\tvar check = checks[i];\n\t\t\t\tvar url;\n\t\t\t\tswitch ((check.element.nodeName || check.element.tagName || '').toLowerCase()) {\n\t\t\t\t\tcase 'a':\n\t\t\t\t\t\turl = check.element.dataset && (check.element.dataset.expandedUrl || check.element.dataset.href || check.element.dataset.fullUrl) || check.element.href;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'iframe':\n\t\t\t\t\t\tvar match = check.element.src.match(/[?&]screen_name=([a-zA-Z0-9_]+)(?:&|$)/);\n\t\t\t\t\t\tif (!match || !match[1]) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\turl = 'https://twitter.com/' + match[1];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (!url) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\turl = dom.massageUrl(url);\n\t\t\t\tif (!url) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\trequest = urls.parse(url);\n\t\t\t\tif (!request) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (!this.props.options[request.api][request.type].enabled || check.element === element && !acceptRequest(request, element, parents)) {\n\t\t\t\t\trequest = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!request) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.waitForHovercard(element, request, event);\n\t\t},\n\t\twaitForHovercard: function (element, request, event) {\n\t\t\tvar timeout = setTimeout(function () {\n\t\t\t\tcleanup();\n\t\t\t\tthis.setState({\n\t\t\t\t\thovercards: this.state.hovercards.concat({ key: this.state.incrementingId, element: element, request: request, event: event }),\n\t\t\t\t\tincrementingId: this.state.incrementingId + 1\n\t\t\t\t});\n\t\t\t}.bind(this), TIMEOUT_BEFORE_CARD);\n\t\n\t\t\telement.addEventListener('mouseleave', abandon);\n\t\t\telement.addEventListener('mousemove', updateEvent);\n\t\t\twindow.addEventListener('blur', abandon);\n\t\n\t\t\tvar that = this;\n\t\n\t\t\tfunction abandon() {\n\t\t\t\tcleanup();\n\t\t\t}\n\t\n\t\t\tfunction cleanup() {\n\t\t\t\telement.removeEventListener('mouseleave', abandon);\n\t\t\t\telement.removeEventListener('mousemove', updateEvent);\n\t\t\t\twindow.removeEventListener('blur', abandon);\n\t\t\t\tclearTimeout(timeout);\n\t\t\t\ttimeout = null;\n\t\t\t\tthat.lastElement = that.lastElement !== element && that.lastElement;\n\t\t\t}\n\t\n\t\t\tfunction updateEvent(newEvent) {\n\t\t\t\tevent = newEvent;\n\t\t\t}\n\t\t},\n\t\tremoveHovercard: function (hovercard) {\n\t\t\tthis.setState({ hovercards: _.without(this.state.hovercards, hovercard) });\n\t\t\tthis.lastElement = this.lastElement !== hovercard.element && this.lastElement;\n\t\t},\n\t\trender: function () {\n\t\t\treturn React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: this.props.className, ref: 'hovercards' },\n\t\t\t\tthis.state.hovercards.map(function (hovercard) {\n\t\t\t\t\treturn React.createElement(Hovercard, { key: hovercard.key,\n\t\t\t\t\t\trequest: hovercard.request,\n\t\t\t\t\t\tentity: this.props.entities[entityLabel(hovercard.request)],\n\t\t\t\t\t\telement: hovercard.element,\n\t\t\t\t\t\tevent: hovercard.event,\n\t\t\t\t\t\tonClose: _.partial(this.removeHovercard, hovercard) });\n\t\t\t\t}.bind(this))\n\t\t\t);\n\t\t}\n\t}));\n\t\n\tfunction acceptRequest(request, element, parents) {\n\t\treturn request.api !== document.domain.replace(/\\.com$/, '').replace(/^.*\\./, '') || request.api === 'imgur' && request.type === 'account' && !dom.hasClass(element, 'account-user-name') && _.chain(parents).every(function (parent) {\n\t\t\treturn dom.hasClass(parent, 'options') || dom.hasClass(parent, 'user-dropdown');\n\t\t}).isEmpty().value() || request.api === 'reddit' && (request.type === 'account' ? !dom.hasClass(document.body, 'res') && _.chain(parents).every(function (parent) {\n\t\t\treturn dom.hasClass(parent, 'tabmenu') || dom.hasClass(parent, 'user');\n\t\t}).isEmpty().value() : !dom.hasClass(element, 'search-comments') && !dom.hasClass(element, 'comments')) || request.api === 'twitter' && request.type === 'account' && document.domain === 'tweetdeck.twitter.com';\n\t}\n\n/***/ },\n\n/***/ 307:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\t\n\tvar styles = __webpack_require__(738);\n\t\n\tmodule.exports = React.createClass({\n\t\tdisplayName: 'Image',\n\t\tpropTypes: {\n\t\t\tclassName: React.PropTypes.string,\n\t\t\timage: React.PropTypes.object.isRequired,\n\t\t\tonLoad: React.PropTypes.func.isRequired\n\t\t},\n\t\trender: function () {\n\t\t\treturn React.createElement('img', { className: classnames(styles.image, this.props.className), src: this.props.image.large || this.props.image.medium || this.props.image.small,\n\t\t\t\tonLoad: this.props.onLoad });\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 309:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\tvar connect = __webpack_require__(31).connect;\n\t\n\tvar Carousel = __webpack_require__(297);\n\tvar Gif = __webpack_require__(304);\n\tvar Image = __webpack_require__(307);\n\tvar OEmbed = __webpack_require__(310);\n\tvar SoundCloudPlayer = __webpack_require__(312);\n\tvar Video = __webpack_require__(313);\n\tvar YoutubeVideo = __webpack_require__(314);\n\tvar actions = __webpack_require__(45);\n\tvar entityLabel = __webpack_require__(38);\n\tvar report = __webpack_require__(17);\n\tvar styles = __webpack_require__(741);\n\t\n\tmodule.exports = connect(null, actions)(React.createClass({\n\t\tdisplayName: 'Media',\n\t\tpropTypes: {\n\t\t\tanalytics: React.PropTypes.func.isRequired,\n\t\t\tclassName: React.PropTypes.string,\n\t\t\tcontent: React.PropTypes.object.isRequired,\n\t\t\thovered: React.PropTypes.bool.isRequired,\n\t\t\tmeta: React.PropTypes.object.isRequired,\n\t\t\tonResize: React.PropTypes.func.isRequired\n\t\t},\n\t\tonCarouselChange: function (index, how) {\n\t\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.content, true), 'Carousel Changed', how, index]).catch(report.catchException);\n\t\t},\n\t\trender: function () {\n\t\t\tswitch (this.props.content.api) {\n\t\t\t\tcase 'imgur':\n\t\t\t\t\tif (!this.props.content.content) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\treturn React.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: classnames(styles.media, this.props.className) },\n\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\tCarousel,\n\t\t\t\t\t\t\t{ onResize: this.props.onResize, onChange: this.onCarouselChange },\n\t\t\t\t\t\t\tthis.props.content.content.map(function (item, i) {\n\t\t\t\t\t\t\t\treturn React.createElement(\n\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t{ key: item.id || i },\n\t\t\t\t\t\t\t\t\titem.gif ? React.createElement(Gif, { gif: item.gif, image: item.image, onLoad: this.props.onResize }) : React.createElement(Image, { image: item.image, onLoad: this.props.onResize }),\n\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t\t{ className: styles.description },\n\t\t\t\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t\t\t\t'b',\n\t\t\t\t\t\t\t\t\t\t\t{ className: styles.name },\n\t\t\t\t\t\t\t\t\t\t\titem.name\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tReact.createElement('p', { className: styles.text, dangerouslySetInnerHTML: { __html: item.text } })\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\tcase 'soundcloud':\n\t\t\t\t\treturn React.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: classnames(styles.media, this.props.className) },\n\t\t\t\t\t\tReact.createElement(SoundCloudPlayer, { content: this.props.content, image: this.props.content.image, muted: !this.props.hovered, meta: this.props.meta, onLoad: this.props.onResize })\n\t\t\t\t\t);\n\t\t\t\tcase 'youtube':\n\t\t\t\t\treturn React.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: classnames(styles.media, this.props.className) },\n\t\t\t\t\t\tReact.createElement(YoutubeVideo, { content: this.props.content, image: this.props.content.image, muted: !this.props.hovered, meta: this.props.meta, onLoad: this.props.onResize })\n\t\t\t\t\t);\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (this.props.content.oembed) {\n\t\t\t\treturn React.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: classnames(styles.media, this.props.className) },\n\t\t\t\t\tReact.createElement(OEmbed, { oembed: this.props.content.oembed, image: this.props.content.image, onLoad: this.props.onResize })\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (this.props.content.video) {\n\t\t\t\treturn React.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: classnames(styles.media, this.props.className) },\n\t\t\t\t\tReact.createElement(Video, { video: this.props.content.video, image: this.props.content.image, muted: !this.props.hovered, onLoad: this.props.onResize })\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (this.props.content.gif) {\n\t\t\t\treturn React.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: classnames(styles.media, this.props.className) },\n\t\t\t\t\tReact.createElement(Gif, { gif: this.props.content.gif, image: this.props.content.image, onLoad: this.props.onResize })\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (this.props.content.images) {\n\t\t\t\treturn React.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: classnames(styles.media, this.props.className) },\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\tCarousel,\n\t\t\t\t\t\t{ onResize: this.props.onResize, onChange: this.onCarouselChange },\n\t\t\t\t\t\tthis.props.content.images.map(function (image, i) {\n\t\t\t\t\t\t\treturn React.createElement(Image, { key: i, image: image, onLoad: this.props.onResize });\n\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (this.props.content.image) {\n\t\t\t\treturn React.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: classnames(styles.media, this.props.className) },\n\t\t\t\t\tReact.createElement(Image, { image: this.props.content.image, onLoad: this.props.onResize })\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t}));\n\n/***/ },\n\n/***/ 310:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\t\n\tvar dom = __webpack_require__(93);\n\tvar styles = __webpack_require__(742);\n\t\n\tmodule.exports = React.createClass({\n\t\tdisplayName: 'OEmbed',\n\t\tpropTypes: {\n\t\t\tclassName: React.PropTypes.string,\n\t\t\timage: React.PropTypes.object,\n\t\t\toembed: React.PropTypes.string.isRequired,\n\t\t\tonLoad: React.PropTypes.func.isRequired\n\t\t},\n\t\tcomponentDidMount: function () {\n\t\t\tthis.massageIframe();\n\t\t},\n\t\tcomponentDidUpdate: function (prevProps) {\n\t\t\tif (this.props.oembed === prevProps.oembed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.massageIframe();\n\t\t},\n\t\tcomponentWillUnmount: function () {\n\t\t\tvar iframe = this.refs.container.children[0];\n\t\t\tiframe.removeEventListener('onload', this.onLoad);\n\t\t},\n\t\tmassageIframe: function () {\n\t\t\tvar iframe = this.refs.container.children[0];\n\t\t\tdom.addClass(iframe, classnames(styles.oembed, this.props.className));\n\t\t\tiframe.style.height = iframe.height / iframe.width * this.refs.container.offsetWidth + 'px';\n\t\t\tiframe.addEventListener('onload', this.onLoad);\n\t\t},\n\t\trender: function () {\n\t\t\treturn React.createElement('div', { className: styles.oembedContainer,\n\t\t\t\tref: 'container',\n\t\t\t\tstyle: { backgroundImage: this.props.image && 'url(' + (this.props.image.medium || this.props.image.large || this.props.image.small) + ')' },\n\t\t\t\tdangerouslySetInnerHTML: { __html: this.props.oembed } });\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 312:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(2);\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\tvar errors = __webpack_require__(49);\n\tvar promisify = __webpack_require__(59);\n\t\n\tvar report = __webpack_require__(17);\n\tvar styles = __webpack_require__(744);\n\tvar urls = __webpack_require__(27);\n\t\n\tvar SoundCloudPlayer = module.exports = React.createClass({\n\t\tdisplayName: 'SoundCloudPlayer',\n\t\tpropTypes: {\n\t\t\tclassName: React.PropTypes.string,\n\t\t\tcontent: React.PropTypes.object.isRequired,\n\t\t\timage: React.PropTypes.object,\n\t\t\tmeta: React.PropTypes.object.isRequired,\n\t\t\tmuted: React.PropTypes.bool.isRequired,\n\t\t\tonLoad: React.PropTypes.func.isRequired\n\t\t},\n\t\tstatics: {\n\t\t\tgetSC: function () {\n\t\t\t\tif (window.SC) {\n\t\t\t\t\treport.catchException(new Error('window.SC should not exist'));\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tSoundCloudPlayer.getSC = _.constant(fetch('https://w.soundcloud.com/player/api.js').then(function (response) {\n\t\t\t\t\tif (!response.ok) {\n\t\t\t\t\t\tthrow new errors.FeathersError('Youtube API won\\'t load', 'FeathersError');\n\t\t\t\t\t}\n\t\t\t\t\treturn response.text();\n\t\t\t\t}).then(function (text) {\n\t\t\t\t\t// HACK Eval-ing text we downloaded\n\t\t\t\t\teval(text); // eslint-disable-line no-eval\n\t\t\t\t\treturn window.SC;\n\t\t\t\t}));\n\t\t\t\treturn SoundCloudPlayer.getSC();\n\t\t\t}\n\t\t},\n\t\tgetInitialState: function () {\n\t\t\treturn { player: null };\n\t\t},\n\t\tcomponentDidMount: function () {\n\t\t\tSoundCloudPlayer.getSC().then(function (SC) {\n\t\t\t\tvar player = SC.Widget(this.refs.player);\n\t\t\t\tplayer.bind(SC.Widget.Events.ERROR, report.catchException);\n\t\t\t\tif (this.props.meta.time_offset) {\n\t\t\t\t\tplayer.bind(SC.Widget.Events.PLAY, function () {\n\t\t\t\t\t\tplayer.seekTo(this.props.meta.time_offset * 1000);\n\t\t\t\t\t}.bind(this));\n\t\t\t\t}\n\t\t\t\treturn promisify(player.bind.bind(player))(SC.Widget.Events.READY).then(_.constant(player));\n\t\t\t}.bind(this)).then(function (player) {\n\t\t\t\t// HACK https://twitter.com/saiichihashi/status/763499483057393664\n\t\t\t\tplayer.play();\n\t\t\t\tthis.setState({ player: player });\n\t\t\t}.bind(this)).catch(report.catchException);\n\t\t},\n\t\tcomponentDidUpdate: function () {\n\t\t\tif (!this.state || !this.state.player) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.state.player.setVolume(this.props.muted ? 0 : 1);\n\t\t},\n\t\trender: function () {\n\t\t\t// FIXME https://github.com/kogg/hovercards/issues/108\n\t\t\treturn React.createElement('iframe', { className: classnames(styles.player, this.props.className),\n\t\t\t\tref: 'player',\n\t\t\t\tsrc: 'https://w.soundcloud.com/player/?url=' + encodeURI(urls.print(this.props.content)) + '&autoplay=false&hide_related=true&show_user=true&show_reposts=false&visual=true',\n\t\t\t\tstyle: { backgroundImage: this.props.image && 'url(' + (this.props.image.medium || this.props.image.large || this.props.image.small) + ')' },\n\t\t\t\tscrolling: false,\n\t\t\t\tframeBorder: false,\n\t\t\t\tonLoad: this.props.onLoad });\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 313:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\t\n\tvar styles = __webpack_require__(745);\n\t\n\tmodule.exports = React.createClass({\n\t\tdisplayName: 'Video',\n\t\tpropTypes: {\n\t\t\tclassName: React.PropTypes.string,\n\t\t\timage: React.PropTypes.object,\n\t\t\tmuted: React.PropTypes.bool.isRequired,\n\t\t\tonLoad: React.PropTypes.func.isRequired,\n\t\t\tvideo: React.PropTypes.string.isRequired\n\t\t},\n\t\tgetInitialState: function () {\n\t\t\treturn { playing: true };\n\t\t},\n\t\ttogglePlaying: function () {\n\t\t\tthis.refs.video[this.state.playing ? 'pause' : 'play']();\n\t\t\tthis.setState({ playing: !this.state.playing });\n\t\t},\n\t\trender: function () {\n\t\t\treturn React.createElement('video', { className: classnames(styles.video, this.props.className),\n\t\t\t\tref: 'video',\n\t\t\t\tsrc: this.props.video,\n\t\t\t\tposter: this.props.image && (this.props.image.medium || this.props.image.large || this.props.image.small),\n\t\t\t\tmuted: this.props.muted,\n\t\t\t\tautoPlay: true,\n\t\t\t\tloop: true,\n\t\t\t\tcontrols: false,\n\t\t\t\tonClick: this.togglePlaying,\n\t\t\t\tonLoad: this.props.onLoad,\n\t\t\t\tonLoadStart: this.props.onLoad,\n\t\t\t\tonLoadedData: this.props.onLoad,\n\t\t\t\tonPlay: this.props.onLoad });\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 314:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(2);\n\tvar React = __webpack_require__(7);\n\tvar classnames = __webpack_require__(12);\n\tvar compose = __webpack_require__(87).compose;\n\tvar errors = __webpack_require__(49);\n\tvar promisify = __webpack_require__(59);\n\t\n\tvar report = __webpack_require__(17);\n\tvar styles = __webpack_require__(746);\n\t\n\tvar YoutubeVideo = module.exports = React.createClass({\n\t\tdisplayName: 'YoutubeVideo',\n\t\tpropTypes: {\n\t\t\tclassName: React.PropTypes.string,\n\t\t\tcontent: React.PropTypes.object.isRequired,\n\t\t\timage: React.PropTypes.object,\n\t\t\tmeta: React.PropTypes.object.isRequired,\n\t\t\tmuted: React.PropTypes.bool.isRequired,\n\t\t\tonLoad: React.PropTypes.func.isRequired\n\t\t},\n\t\tstatics: {\n\t\t\tgetYT: function () {\n\t\t\t\tif (window.YT) {\n\t\t\t\t\treport.catchException(new Error('window.YT should not exist'));\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\twindow.YT = window.YT || { loading: 0, loaded: 0 };\n\t\t\t\twindow.YTConfig = window.YTConfig || { host: 'http://www.youtube.com' };\n\t\t\t\tif (window.YT.loading) {\n\t\t\t\t\treport.catchException(new Error('window.YT.loading should not exist'));\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\twindow.YT.loading = 1;\n\t\t\t\tvar l = [];\n\t\t\t\t// Mostly copied from https://www.youtube.com/iframe_api\n\t\t\t\t/* eslint-disable */\n\t\t\t\twindow.YT.ready = function (f) {\n\t\t\t\t\tif (window.YT.loaded) {\n\t\t\t\t\t\tf();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tl.push(f);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\twindow.onYTReady = function () {\n\t\t\t\t\twindow.YT.loaded = 1;for (var i = 0; i < l.length; i++) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tl[i]();\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\twindow.YT.setConfig = function (c) {\n\t\t\t\t\tfor (var k in c) {\n\t\t\t\t\t\tif (c.hasOwnProperty(k)) {\n\t\t\t\t\t\t\twindow.YTConfig[k] = c[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t/* eslint-enable */\n\t\t\t\tYoutubeVideo.getYT = _.constant(Promise.all([\n\t\t\t\t// HACK This is a url from within https://www.youtube.com/iframe_api\n\t\t\t\tfetch('https://s.ytimg.com/yts/jsbin/www-widgetapi-vflwSZmGJ/www-widgetapi.js').then(function (response) {\n\t\t\t\t\tif (!response.ok) {\n\t\t\t\t\t\tthrow new errors.FeathersError('Youtube API won\\'t load', 'FeathersError');\n\t\t\t\t\t}\n\t\t\t\t\treturn response.text();\n\t\t\t\t}).then(function (text) {\n\t\t\t\t\t// HACK Eval-ing text we downloaded\n\t\t\t\t\teval(text); // eslint-disable-line no-eval\n\t\t\t\t}), promisify(window.YT.ready.bind(window.YT))()]).then(function () {\n\t\t\t\t\treturn window.YT;\n\t\t\t\t}));\n\t\t\t\treturn YoutubeVideo.getYT();\n\t\t\t}\n\t\t},\n\t\tgetInitialState: function () {\n\t\t\treturn { player: null };\n\t\t},\n\t\tcomponentDidMount: function () {\n\t\t\tYoutubeVideo.getYT().then(function (YT) {\n\t\t\t\treturn new Promise(function (resolve) {\n\t\t\t\t\t/* eslint-disable no-new */\n\t\t\t\t\tnew YT.Player(this.refs.video, {\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tonReady: compose(resolve, _.property('target')),\n\t\t\t\t\t\t\tonError: report.catchException\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t/* eslint-enable no-new */\n\t\t\t\t}.bind(this));\n\t\t\t}.bind(this)).then(function (player) {\n\t\t\t\tthis.setState({ player: player });\n\t\t\t}.bind(this)).catch(report.catchException);\n\t\t},\n\t\tcomponentDidUpdate: function () {\n\t\t\tif (!this.state || !this.state.player) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.props.muted) {\n\t\t\t\tthis.state.player.mute();\n\t\t\t} else {\n\t\t\t\tthis.state.player.unMute();\n\t\t\t}\n\t\t},\n\t\trender: function () {\n\t\t\treturn React.createElement('iframe', { className: classnames(styles.video, this.props.className),\n\t\t\t\tref: 'video',\n\t\t\t\tsrc: 'https://www.youtube.com/embed/' + this.props.content.id + '?enablejsapi=1&origin=' + document.origin + '&autoplay=1&mute=1&rel=0' + (this.props.meta.time_offset ? '&start=' + this.props.meta.time_offset : ''),\n\t\t\t\tstyle: { backgroundImage: this.props.image && 'url(' + (this.props.image.medium || this.props.image.large || this.props.image.small) + ')' },\n\t\t\t\tallowFullScreen: true,\n\t\t\t\tonLoad: this.props.onLoad });\n\t\t}\n\t});\n\n/***/ },\n\n/***/ 715:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(2);\n\t\n\tvar browser = __webpack_require__(9);\n\t\n\tmodule.exports.analytics = function (request) {\n\t\treturn function () {\n\t\t\tvar promise = browser.runtime.sendMessage({ type: 'analytics', payload: request });\n\t\n\t\t\tif (false) {\n\t\t\t\tpromise = promise.then(function () {\n\t\t\t\t\tif (_.chain(request).first(2).isEqual(['send', 'exception']).value()) {\n\t\t\t\t\t\tconsole.error('google analytics', request);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.debug('google analytics', request);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn promise;\n\t\t};\n\t};\n\n/***/ },\n\n/***/ 717:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar createAction = __webpack_require__(37).createAction;\n\t\n\tvar browser = __webpack_require__(9);\n\t\n\tmodule.exports.authenticate = function (request) {\n\t\treturn function () {\n\t\t\treturn browser.runtime.sendMessage(createAction('authenticate')(request));\n\t\t};\n\t};\n\n/***/ },\n\n/***/ 720:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar actions = __webpack_require__(45);\n\tvar createStore = __webpack_require__(174);\n\t\n\tmodule.exports = function (initialState) {\n\t\treturn createStore(actions, {\n\t\t\tauthentication: __webpack_require__(283),\n\t\t\tentities: __webpack_require__(284),\n\t\t\toptions: __webpack_require__(285)\n\t\t}, initialState);\n\t};\n\n/***/ },\n\n/***/ 722:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(2);\n\tvar createAction = __webpack_require__(37).createAction;\n\t\n\tvar browser = __webpack_require__(9);\n\tvar entityLabel = __webpack_require__(38);\n\t\n\tvar setEntity = createAction('SET_ENTITY', null, function (entity, label) {\n\t\treturn label && { label: label };\n\t});\n\t\n\tmodule.exports.getEntity = function (request) {\n\t\treturn function (dispatch, getState) {\n\t\t\tvar state = getState();\n\t\t\tvar label = entityLabel(request);\n\t\t\tif (state.entities[label] && state.entities[label].loaded && Date.now() - state.entities[label].loaded <= 5 * 60 * 1000) {\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\t\n\t\t\treturn browser.runtime.sendMessage(createAction('getEntity')(request)).then(_.property('payload')).then(setEntity).then(dispatch);\n\t\t};\n\t};\n\t\n\tmodule.exports.setEntity = function (request, meta) {\n\t\treturn function (dispatch) {\n\t\t\tdispatch(setEntity(request, (meta || {}).label));\n\t\t\treturn Promise.resolve();\n\t\t};\n\t};\n\n/***/ },\n\n/***/ 724:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"meta-main\":\"_3nG-tIO3UD_p1wSEAdcyYs KheWzlLE9P6e7s_v1alZa\",\"metaMain\":\"_3nG-tIO3UD_p1wSEAdcyYs KheWzlLE9P6e7s_v1alZa\",\"network\":\"_3yQ__L-cnJmAX39rqdRlE2\",\"imgur\":\"_2u1ztYLgSYdR3B31WGbacS\",\"instagram\":\"_1TYjUVV7YEBjXh2rIR-4DR\",\"reddit\":\"_1W5z4lpn4kh7r_PUyVKbQ5\",\"soundcloud\":\"_3Zt7R-_SRCZxD0I7y93Xl1\",\"twitter\":\"_1OSqJUYd61FP7aW7h4a4g2\",\"youtube\":\"JaMB1OkuYFWCOqqKjoG_S\"};\n\n/***/ },\n\n/***/ 725:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"banner\":\"_1IIMjSsta2QqUdso4oDH-Z _3bT6jN_JQ9nffl6b5IP6fU\",\"banner-image\":\"UDZaKqYDWBwdBvTc618Aa\",\"bannerImage\":\"UDZaKqYDWBwdBvTc618Aa\"};\n\n/***/ },\n\n/***/ 726:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"account\":\"_1SgqQRjs8S8FvwzGx3q6-Y\",\"noAccountImage\":\"_1nJSeRQu9GLc0xghiuX7IW\",\"image\":\"_14BNwwLTKWG6eAxD3X_XbF\",\"header\":\"URiiWigkFhnNGWyLXFhMp\",\"name-container\":\"_3-Jw9Pd_c-YQ0VwH376qCx _3bT6jN_JQ9nffl6b5IP6fU\",\"nameContainer\":\"_3-Jw9Pd_c-YQ0VwH376qCx _3bT6jN_JQ9nffl6b5IP6fU\",\"name\":\"_1pAr2ddZJCZ9cA-uyANPQC\",\"verified\":\"_6CMiukS0hDJG5-Pl-DGgf\",\"description\":\"_2f92dK-tvNBNCJzgUmJNtx\",\"text\":\"_2o7YWmGyc67s4UNjuuARGM\"};\n\n/***/ },\n\n/***/ 727:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"carousel\":\"_3kTtch1qrUD9yZaycqZ-Rs\",\"arrows\":\"_2da5c2o9zEandqLEtnFRXu\",\"right-arrow\":\"_1d8TcLSJxexGCllULPQXpp\",\"rightArrow\":\"_1d8TcLSJxexGCllULPQXpp\",\"left-arrow\":\"_21ZdgizXcMWRl7VNpirtRq\",\"leftArrow\":\"_21ZdgizXcMWRl7VNpirtRq\"};\n\n/***/ },\n\n/***/ 728:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"collapsable\":\"ahBsgkkAMzHez8ouDhrJ- _-7qpSHA5Y_zyrI2k7fbKw\",\"collapsed\":\"_2gsUHb8K8bNZZzHeIQtkaq\",\"expanded\":\"cMFa58WIRUrJMLsMiK2HJ\"};\n\n/***/ },\n\n/***/ 729:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"name\":\"_2kHw9g2jlADUfvUHDzhB3y\",\"description\":\"iQqXtUweYD5VW8iZ6xI0Z\"};\n\n/***/ },\n\n/***/ 730:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"header\":\"_1w8_FboHMYh08Q9nmG_OpO _15FuGYQoG9kn3jJN0YYnQ-\",\"image\":\"_2KiOCwakPx3eQmUuLIs6rp\",\"name-container\":\"_2wrrPyPTOAU61R3f5qNOvY pgUu0_93XJJHbYqmSq6vW\",\"nameContainer\":\"_2wrrPyPTOAU61R3f5qNOvY pgUu0_93XJJHbYqmSq6vW\",\"name\":\"_2oqi0tu2-Ry_3oVh_hwCeY\",\"share\":\"_16R8Cwy9VbOONOG4-KiHp6\",\"share-on-facebook\":\"_3MgGL63wwsCuoyyGbJt2wm _16R8Cwy9VbOONOG4-KiHp6\",\"shareOnFacebook\":\"_3MgGL63wwsCuoyyGbJt2wm _16R8Cwy9VbOONOG4-KiHp6\",\"share-on-twitter\":\"_3HMvPjWhlR-f4TcnjIPEe- _16R8Cwy9VbOONOG4-KiHp6\",\"shareOnTwitter\":\"_3HMvPjWhlR-f4TcnjIPEe- _16R8Cwy9VbOONOG4-KiHp6\"};\n\n/***/ },\n\n/***/ 731:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"content\":\"OKuQXEPCWzJiuhdVUfBZz\"};\n\n/***/ },\n\n/***/ 732:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"comment-container\":\"_373IXZ0GB-fRI7o08foG23\",\"commentContainer\":\"_373IXZ0GB-fRI7o08foG23\",\"comment\":\"_2GzSEbAesZnHi0HnKaw0aV\",\"account-image-container\":\"_238x3w29CMAH1am7EE4kNV\",\"accountImageContainer\":\"_238x3w29CMAH1am7EE4kNV\",\"account-image\":\"_2q07VwkzHy13pQvvw7jieW\",\"accountImage\":\"_2q07VwkzHy13pQvvw7jieW\",\"empty\":\"_30cXIrD8bE_N7Y3UntHV\",\"account-name\":\"_3fuj89mES2dO2E7V_oFC28\",\"accountName\":\"_3fuj89mES2dO2E7V_oFC28\",\"description\":\"u9r_vSbx8IQ2-zJVRmE8J\",\"text\":\"_2ZDgQzGb_XI70M8R1-hpgR _-7qpSHA5Y_zyrI2k7fbKw\",\"stat\":\"_1PfFGmiN_QFQQhrwBPM18P undefined\",\"stat-number\":\"_3Ry-njkmOTw1z6iUaIbVhP\",\"statNumber\":\"_3Ry-njkmOTw1z6iUaIbVhP\",\"replies\":\"_18E-UvHYHyU6OV-mcKFAHm\"};\n\n/***/ },\n\n/***/ 733:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"discussions-container\":\"_34-bkHx4qnASIZPHgB6jXi\",\"discussionsContainer\":\"_34-bkHx4qnASIZPHgB6jXi\",\"discussions\":\"_2VXngGNy_00oz04i_q2wfy\",\"tabs-container\":\"_3borFH9cx7ONIe3g9SN2DJ _15FuGYQoG9kn3jJN0YYnQ-\",\"tabsContainer\":\"_3borFH9cx7ONIe3g9SN2DJ _15FuGYQoG9kn3jJN0YYnQ-\",\"tabs\":\"_1ZiZ_UpG6nqXimprb-EN2w\",\"tab\":\"_2ogqFdonlXFxf3X-ElOkRT\",\"selected\":\"kczBCdfOo7laQ7fM4j6PL\"};\n\n/***/ },\n\n/***/ 734:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"error\":\"_3JglF2sd2EYZSXO-gQlDCa\",\"image\":\"_2yRvX20FvS7GN5Y-PCkPfK\",\"shake\":\"_39Pxg9lQN3D6LqfrvDMDE4\",\"description\":\"_6InogklCN1GFNRPRJQSDF\",\"name\":\"mdJJSbxxvERNrhSG-gaV0\",\"text\":\"pN2CNfyqbSVAJl8tBxNIt\",\"cta\":\"_1jUQ27vOMZ59eu8x5jHewZ\",\"imgur\":\"_1IaPaQWHKT9nA-wC3fD73q\",\"instagram\":\"_1700ptei__sfFDUNCfWeB6\",\"reddit\":\"_2N3CzBbGur85GA5McLz1NL\",\"soundcloud\":\"_3VUPdTJEVxAbX8rgqE9WLy\",\"twitter\":\"_3J3oZbSKSYUYoDSPfNzTZ9\",\"youtube\":\"_3uC0w8IhMYUKl5HwSzB8FK\"};\n\n/***/ },\n\n/***/ 735:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"gif\":\"ZhkZtMpYLiMTQTecHM5c0\"};\n\n/***/ },\n\n/***/ 736:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"hovercard\":\"_1oOlws9BVj0LBBEOlZGyWv\",\"lock-document\":\"k1GPH9LYr_mWrJSRxhyC0\",\"lockDocument\":\"k1GPH9LYr_mWrJSRxhyC0\",\"lock-body\":\"_1OMoHr4Y-ylJKzbQJytX2h\",\"lockBody\":\"_1OMoHr4Y-ylJKzbQJytX2h\"};\n\n/***/ },\n\n/***/ 737:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 738:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"image\":\"_3PGtSlCCDmjUAZgmb3er0b\"};\n\n/***/ },\n\n/***/ 740:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"loading-container\":\"_1tAHEvWURjitDaOY2bXBZG\",\"loadingContainer\":\"_1tAHEvWURjitDaOY2bXBZG\",\"loading\":\"_1BQkrTAdBIGXIrNdhjfmTo\"};\n\n/***/ },\n\n/***/ 741:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"media\":\"_1t0TrLChhPeEjWNhERg2UK _3bT6jN_JQ9nffl6b5IP6fU\",\"meta\":\"_1byXNBqC1NbrxEsgLr_BG\",\"description\":\"c4aF4uBeEpM2xdxNqMdec\",\"text\":\"_2z-h7KKZ8CpBd1S5spP3VO\",\"name\":\"znj7MHvHkfrQxma_LyOjG\"};\n\n/***/ },\n\n/***/ 742:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"oembed-container\":\"_3iUrnPVFR1OuP13P5Kpcoo\",\"oembedContainer\":\"_3iUrnPVFR1OuP13P5Kpcoo\",\"oembed\":\"WXEiaaLVjD9UJSuzO3MvM\"};\n\n/***/ },\n\n/***/ 744:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"player\":\"_JrJfup6UMTPyIqxACzl\"};\n\n/***/ },\n\n/***/ 745:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"video\":\"_2NBp4V2vQYZHnc4HRKvQ5Z\"};\n\n/***/ },\n\n/***/ 746:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\tmodule.exports = {\"video\":\"_1R_fBj93s7WnUQwM3cCzLw\"};\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** top-frame.js\n **/","require('../report');\nrequire('string.prototype.endswith');\nvar Provider = require('react-redux').Provider;\nvar React    = require('react');\nvar ReactDOM = require('react-dom');\n\nvar Hovercards  = require('../components/Hovercards/Hovercards');\nvar createStore = require('../redux/createStore.top-frame');\n\nvar element = document.documentElement.insertBefore(document.createElement('div'), null);\nelement.className = 'hovercards-root';\n\nReactDOM.render(\n\t<Provider store={createStore()}>\n\t\t<Hovercards />\n\t</Provider>,\n\telement\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./extension/index.top-frame.js\n **/","module.exports = Object.assign(\n\t{},\n\trequire('./analytics.actions.top-frame'),\n\trequire('./authentication.actions.top-frame'),\n\trequire('./entities.actions.top-frame')\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./redux/actions.top-frame.js\n **/","var _ = require('underscore');\n\nmodule.exports.hasClass = function(element, classNames) {\n\t// Based off of jQuery 1.5.0\n\treturn _.every([].concat(classNames), function(className) {\n\t\treturn ((' ' + element.className + ' ').replace(/[\\n\\t\\r]/g, ' ').indexOf(' ' + className + ' ') > -1);\n\t});\n};\n\nmodule.exports.addClass = function(element, value) {\n\t// Based off of jQuery 1.5.0\n\tif (element.nodeType !== 1) {\n\t\treturn;\n\t}\n\tif (!element.className) {\n\t\telement.className = value;\n\t\treturn;\n\t}\n\tvar className = ' ' + element.className + ' ';\n\tvar setClass  = element.className;\n\n\t(value || '').split(/\\s+/).forEach(function(aClassName) {\n\t\tif (className.indexOf(' ' + aClassName + ' ') < 0) {\n\t\t\tsetClass += ' ' + aClassName;\n\t\t}\n\t});\n\telement.className = setClass.trim();\n};\n\nmodule.exports.removeClass = function(element, value) {\n\t// Based off of jQuery 1.5.0\n\tif (element.nodeType !== 1 || !element.className) {\n\t\treturn;\n\t}\n\tvar className = (' ' + element.className + ' ').replace(/[\\n\\t\\r]/g, ' ');\n\n\t(value || '').split(/\\s+/).forEach(function(aClassName) {\n\t\tclassName = className.replace(' ' + aClassName + ' ', ' ');\n\t});\n\n\telement.className = className.trim();\n};\n\nmodule.exports.massageUrl = function(url) {\n\tif (!url) {\n\t\treturn null;\n\t}\n\tif (url === '#') {\n\t\treturn null;\n\t}\n\tif (url.match(/^javascript:.*/)) {\n\t\treturn null;\n\t}\n\tvar a = document.createElement('a');\n\ta.href = url;\n\turl = a.href;\n\ta.href = '';\n\tif (a.remove) {\n\t\ta.remove();\n\t}\n\tif (url === document.URL + '#') {\n\t\treturn null;\n\t}\n\treturn url;\n};\n\nmodule.exports.imageLoaded = function(src) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar img = new Image();\n\t\timg.onload = resolve;\n\t\timg.onerror = reject;\n\t\timg.src = src;\n\t});\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/dom.js\n **/","var React      = require('react');\nvar classnames = require('classnames');\nvar connect    = require('react-redux').connect;\n\nvar actions = require('../../redux/actions.top-frame');\nvar browser = require('../../extension/browser');\nvar report  = require('../../report');\nvar styles  = require('./Err.styles');\n\nmodule.exports = connect(null, actions)(React.createClass({\n\tdisplayName: 'Err',\n\tpropTypes:   {\n\t\tauthenticate: React.PropTypes.func.isRequired,\n\t\tclassName:    React.PropTypes.string,\n\t\terror:        React.PropTypes.object.isRequired,\n\t\tgetEntity:    React.PropTypes.func.isRequired\n\t},\n\tonClickCTA: function() {\n\t\treturn this.props.authenticate({ api: this.props.error.request && this.props.error.request.api })\n\t\t\t.then(function() {\n\t\t\t\tif (!this.isMounted()) {\n\t\t\t\t\t// HACK isMounted is an anti-pattern https://facebook.github.io/react/blog/2015/12/16/ismounted-antipattern.html\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\treturn this.props.getEntity(this.props.error.request);\n\t\t\t}.bind(this))\n\t\t\t.catch(report.catchException);\n\t},\n\trender: function() {\n\t\tvar integration = this.props.error.request && this.props.error.request.api;\n\t\tvar cta         = (\n\t\t\tbrowser.i18n.getMessage('err_' + (this.props.error.code || 500) + '_cta_of_' + integration) ||\n\t\t\tbrowser.i18n.getMessage('err_' + (this.props.error.code || 500) + '_cta')\n\t\t);\n\n\t\treturn (\n\t\t\t<div className={classnames(styles.error, this.props.className)}>\n\t\t\t\t<div className={styles.image} />\n\t\t\t\t<div className={styles.description}>\n\t\t\t\t\t<b className={styles.name}>{\n\t\t\t\t\t\tbrowser.i18n.getMessage('err_' + (this.props.error.code || 500) + '_name_of_' + integration, [browser.i18n.getMessage('name_of_' + integration)]) ||\n\t\t\t\t\t\tbrowser.i18n.getMessage('err_' + (this.props.error.code || 500) + '_name', [browser.i18n.getMessage('name_of_' + integration)])\n\t\t\t\t\t}</b>\n\t\t\t\t\t<p className={styles.name}>{\n\t\t\t\t\t\tbrowser.i18n.getMessage('err_' + (this.props.error.code || 500) + '_text_of_' + integration, [browser.i18n.getMessage('name_of_' + integration)]) ||\n\t\t\t\t\t\tbrowser.i18n.getMessage('err_' + (this.props.error.code || 500) + '_text', [browser.i18n.getMessage('name_of_' + integration)])\n\t\t\t\t\t}</p>\n\t\t\t\t\t{cta && <a className={classnames(styles[integration], styles.cta)} onClick={this.onClickCTA}>{cta}</a>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/Err/Err.js\n **/","var React      = require('react');\nvar classnames = require('classnames');\n\nvar styles = require('./Loading.styles');\n\n// TODO https://github.com/kogg/hovercards/issues/33\nmodule.exports = React.createClass({\n\tdisplayName: 'Loading',\n\tpropTypes:   {\n\t\tclassName: React.PropTypes.string\n\t},\n\trender: function() {\n\t\treturn <div className={classnames(styles.loadingContainer, this.props.className)}><div className={styles.loading} /></div>;\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/Loading/Loading.js\n **/","var _ = require('underscore');\n\nvar browser = require('../extension/browser');\n\nvar units = ['', 'x_thousand', 'x_million', 'x_billion', 'x_trillion'];\n\nmodule.exports.number = function(number) {\n\tif (!_.isNumber(number) || _.isNaN(number)) {\n\t\treturn number;\n\t}\n\tif (number < 10000) {\n\t\treturn number.toLocaleString();\n\t}\n\tvar log1000      = Math.floor(Math.log10(number) / 3);\n\tvar multiple1000 = number / Math.pow(1000, log1000);\n\tvar roundto      = Math.pow(10, 2 - Math.floor(Math.log10(multiple1000)));\n\tmultiple1000 = Math.round(multiple1000 * roundto) / roundto;\n\n\tif (!log1000) {\n\t\treturn multiple1000.toLocaleString();\n\t}\n\treturn browser.i18n.getMessage(units[log1000], [multiple1000.toLocaleString()]);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./utils/format.js\n **/","var React      = require('react');\nvar classnames = require('classnames');\n\nvar styles = require('./Collapsable.styles');\n\nmodule.exports = React.createClass({\n\tdisplayName: 'Collapsable',\n\tpropTypes:   {\n\t\tchildren:  React.PropTypes.node.isRequired,\n\t\tclassName: React.PropTypes.string,\n\t\tonExpand:  React.PropTypes.func.isRequired,\n\t\tonResize:  React.PropTypes.func.isRequired\n\t},\n\tgetInitialState: function() {\n\t\treturn { expanded: false, collapsable: true };\n\t},\n\tcomponentDidMount: function() {\n\t\tif (this.refs.collapsable.scrollHeight < this.refs.collapsable.offsetHeight + 5) {\n\t\t\treturn this.setState({ collapsable: false });\n\t\t}\n\t},\n\tcomponentDidUpdate: function(prevProps, prevState) {\n\t\tif (this.state.expanded === prevState.expanded && this.state.collapsable === prevState.collapsable) {\n\t\t\treturn;\n\t\t}\n\t\tthis.props.onResize();\n\t},\n\tonExpand: function(e) {\n\t\tif (this.state.expanded || !this.state.collapsable) {\n\t\t\treturn;\n\t\t}\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t\tthis.setState({ expanded: true });\n\t\tthis.props.onExpand();\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div ref=\"collapsable\"\n\t\t\t\tclassName={classnames(\n\t\t\t\t\tstyles.collapsable,\n\t\t\t\t\t{\n\t\t\t\t\t\t[styles.collapsed]: !this.state.expanded && this.state.collapsable,\n\t\t\t\t\t\t[styles.expanded]:  this.state.expanded || !this.state.collapsable\n\t\t\t\t\t},\n\t\t\t\t\tthis.props.className\n\t\t\t\t)}\n\t\t\t\tonClick={this.onExpand}>\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/Collapsable/Collapsable.js\n **/","var _     = require('underscore');\nvar React = require('react');\n\nvar browser = require('../../extension/browser');\n\nvar units = [\n\t{ copy: 'x_seconds', value: -1 },\n\t{ copy: 'x_seconds', value: 1000 },\n\t{ copy: 'x_minutes', value: 1000 * 60 },\n\t{ copy: 'x_hours', value: 1000 * 60 * 60 },\n\t{ copy: 'x_days', value: 1000 * 60 * 60 * 24 },\n\t{ copy: 'x_months', value: 1000 * 60 * 60 * 24 * 31 },\n\t{ copy: 'x_years', value: 1000 * 60 * 60 * 24 * 31 * 12 }\n];\n\nmodule.exports = React.createClass({\n\tdisplayName: 'TimeSince',\n\tpropTypes:   {\n\t\tdate: React.PropTypes.number.isRequired\n\t},\n\tgetInitialState: function() {\n\t\treturn { timesince: '' };\n\t},\n\tcomponentDidMount: function() {\n\t\tthis.componentWillReceiveProps();\n\t},\n\tcomponentWillReceiveProps: function(nextProps) {\n\t\tclearTimeout(this.timeout);\n\t\tvar date = new Date((nextProps || this.props).date);\n\n\t\tvar now                = new Date();\n\t\tvar now_with_date_time = new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds()));\n\t\t// This difference pretends that months are exactly 31 days.\n\t\tvar difference = now - now_with_date_time + (1000 * 60 * 60 * 24 * (now.getUTCDate() - date.getUTCDate() + (31 * (now.getUTCMonth() - date.getUTCMonth() + (12 * (now.getUTCFullYear() - date.getUTCFullYear()))))));\n\t\tvar unit  = units[_.sortedIndex(units, { value: difference }, 'value') - 1];\n\t\tvar value = Math.floor(difference / unit.value);\n\n\t\tthis.setState({ timesince: browser.i18n.getMessage(unit.copy, [value]) });\n\t\tthis.timeout = setTimeout(this.componentWillReceiveProps.bind(this), date + ((value + 1) * unit.value) - now);\n\t},\n\tcomponentWillUnmount: function() {\n\t\tclearTimeout(this.timeout);\n\t},\n\trender: function() {\n\t\treturn <span className={this.props.className} title={(new Date(this.props.date)).toLocaleString()}>{this.state.timesince}</span>;\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/TimeSince/TimeSince.js\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"meta\":\"_1GthKZXF2a8LnthNT8gvOH _3bT6jN_JQ9nffl6b5IP6fU _15FuGYQoG9kn3jJN0YYnQ-\",\"mediameta\":\"_3bFm6eSx_pcOUb33ggc8LJ\",\"meta-main-container\":\"p12O-mpbKQ0PEVeb40OLy\",\"metaMainContainer\":\"p12O-mpbKQ0PEVeb40OLy\",\"meta-main\":\"KheWzlLE9P6e7s_v1alZa\",\"metaMain\":\"KheWzlLE9P6e7s_v1alZa\",\"meta-item\":\"QMIoqkURbSnmZj4DMAeXB\",\"metaItem\":\"QMIoqkURbSnmZj4DMAeXB\",\"meta-number\":\"_3K6vL4Flcorr6ysdsQW8We\",\"metaNumber\":\"_3K6vL4Flcorr6ysdsQW8We\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/meta.styles.css\n ** module id = 286\n ** module chunks = 3\n **/","var React      = require('react');\nvar classnames = require('classnames');\n\nvar TimeSince = require('../TimeSince/TimeSince');\nvar browser   = require('../../extension/browser');\nvar config    = require('../../integrations/config');\nvar format    = require('../../utils/format');\nvar styles    = Object.assign({}, require('../meta.styles'), require('./AccountFooter.styles'));\n\nmodule.exports = React.createClass({\n\tdisplayName: 'AccountFooter',\n\tpropTypes:   {\n\t\taccount:   React.PropTypes.object.isRequired,\n\t\tclassName: React.PropTypes.string\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div className={classnames(styles.meta, this.props.className)}>\n\t\t\t\t<div className={styles.metaMainContainer}>\n\t\t\t\t\t<div className={styles.metaMain}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.props.account.stats && config.integrations[this.props.account.api].account.stats.map(function(stat) {\n\t\t\t\t\t\t\t\tif (stat === 'date') {\n\t\t\t\t\t\t\t\t\treturn <span key={stat} className={styles.metaItem}><em className={styles.metaNumber}><TimeSince date={this.props.account.date} /></em> {browser.i18n.getMessage('age_of_' + this.props.account.api) || browser.i18n.getMessage('age')}</span>;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (this.props.account.stats[stat] === undefined) {\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn <span key={stat} className={styles.metaItem}><em className={styles.metaNumber} title={this.props.account.stats[stat].toLocaleString()}>{format.number(this.props.account.stats[stat])}</em> {browser.i18n.getMessage(stat + '_of_' + this.props.account.api) || browser.i18n.getMessage(stat)}</span>;\n\t\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<i className={classnames(styles.network, styles[this.props.account.api])} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/AccountFooter/AccountFooter.js\n **/","var React      = require('react');\nvar classnames = require('classnames');\n\nvar dom    = require('../../utils/dom');\nvar styles = require('./AccountHeader.styles');\n\nmodule.exports = React.createClass({\n\tdisplayName: 'AccountHeader',\n\tpropTypes:   {\n\t\taccount:   React.PropTypes.object.isRequired,\n\t\tclassName: React.PropTypes.string\n\t},\n\tcomponentDidMount: function() {\n\t\tif (this.props.account.content && this.props.account.content.content) {\n\t\t\tPromise\n\t\t\t\t.all(this.props.account.content.content.slice(0, 3).map(function(content) {\n\t\t\t\t\treturn dom.imageLoaded(content.image.medium || content.image.large || content.image.small);\n\t\t\t\t}))\n\t\t\t\t.then(this.props.onResize);\n\t\t} else if (this.props.account.banner) {\n\t\t\tdom.imageLoaded(this.props.account.banner).then(this.props.onResize);\n\t\t}\n\t},\n\tcomponentDidUpdate: function() {\n\t\tif (this.props.account.content && this.props.account.content.content) {\n\t\t\tPromise\n\t\t\t\t.all(this.props.account.content.content.slice(0, 3).map(function(content) {\n\t\t\t\t\treturn dom.imageLoaded(content.image.medium || content.image.large || content.image.small);\n\t\t\t\t}))\n\t\t\t\t.then(this.props.onResize);\n\t\t} else if (this.props.account.banner) {\n\t\t\tdom.imageLoaded(this.props.account.banner).then(this.props.onResize);\n\t\t}\n\t},\n\trender: function() {\n\t\tif (this.props.account.content && this.props.account.content.content) {\n\t\t\treturn (\n\t\t\t\t<div className={classnames(styles.banner, this.props.className)}>\n\t\t\t\t\t{this.props.account.content.content.slice(0, 3).map(function(content, i) {\n\t\t\t\t\t\treturn <div key={content.id || i} className={styles.bannerImage} style={{ backgroundImage: 'url(' + (content.image.medium || content.image.large || content.image.small) + ')' }}></div>;\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tif (this.props.account.banner) {\n\t\t\treturn <div className={classnames(styles.banner, this.props.className)} style={{ backgroundImage: 'url(' + this.props.account.banner + ')' }}></div>;\n\t\t}\n\t\treturn null;\n\t}\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/AccountHeader/AccountHeader.js\n **/","var React      = require('react');\nvar classnames = require('classnames');\nvar connect    = require('react-redux').connect;\n\nvar AccountFooter = require('../AccountFooter/AccountFooter');\nvar AccountHeader = require('../AccountHeader/AccountHeader');\nvar Collapsable   = require('../Collapsable/Collapsable');\nvar Err           = require('../Err/Err');\nvar Loading       = require('../Loading/Loading');\nvar actions       = require('../../redux/actions.top-frame');\nvar browser       = require('../../extension/browser');\nvar config        = require('../../integrations/config');\nvar dom           = require('../../utils/dom');\nvar entityLabel   = require('../../utils/entity-label');\nvar report        = require('../../report');\nvar styles        = require('./AccountHovercard.styles.css');\nvar urls          = require('../../integrations/urls');\n\nmodule.exports = connect(null, actions)(React.createClass({\n\tdisplayName: 'AccountHovercard',\n\tpropTypes:   {\n\t\taccount:   React.PropTypes.object.isRequired,\n\t\tanalytics: React.PropTypes.func.isRequired,\n\t\tclassName: React.PropTypes.string,\n\t\thovered:   React.PropTypes.bool.isRequired,\n\t\tonResize:  React.PropTypes.func.isRequired\n\t},\n\tcomponentDidMount: function() {\n\t\tif (!config.integrations[this.props.account.api].account.noImage && this.props.account.image) {\n\t\t\tdom.imageLoaded(this.props.account.image.medium || this.props.account.image.small || this.props.account.image.large)\n\t\t\t\t.then(this.props.onResize);\n\t\t}\n\t},\n\tcomponentDidUpdate: function() {\n\t\tif (!config.integrations[this.props.account.api].account.noImage && this.props.account.image) {\n\t\t\tdom.imageLoaded(this.props.account.image.medium || this.props.account.image.small || this.props.account.image.large)\n\t\t\t\t.then(this.props.onResize);\n\t\t}\n\t},\n\tonExpandDescription: function() {\n\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.account, true), 'Expanded description'])\n\t\t\t.catch(report.catchException);\n\t},\n\trender: function() {\n\t\tvar className = classnames(styles.account, { [styles.noAccountImage]: config.integrations[this.props.account.api].account.noImage }, this.props.className);\n\n\t\tif (this.props.account.err) {\n\t\t\treturn <Err className={className} error={this.props.account.err} />;\n\t\t}\n\t\tif (!this.props.account.loaded) {\n\t\t\treturn <Loading className={className} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={className}>\n\t\t\t\t<a href={urls.print(this.props.account)} target=\"_blank\">\n\t\t\t\t\t<AccountHeader className={styles.header} account={this.props.account} />\n\t\t\t\t\t{\n\t\t\t\t\t\t!config.integrations[this.props.account.api].account.noImage &&\n\t\t\t\t\t\tthis.props.account.image &&\n\t\t\t\t\t\t<span className={styles.image} style={{ backgroundImage: 'url(' + (this.props.account.image.medium || this.props.account.image.small || this.props.account.image.large) + ')' }} />\n\t\t\t\t\t}\n\t\t\t\t\t<div className={styles.nameContainer}>\n\t\t\t\t\t\t<span className={styles.name}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.props.account.name ||\n\t\t\t\t\t\t\t\tbrowser.i18n.getMessage('account_id_of_' + this.props.account.api, [this.props.account.id]) ||\n\t\t\t\t\t\t\t\tbrowser.i18n.getMessage('account_id', [this.props.account.id]) ||\n\t\t\t\t\t\t\t\tbrowser.i18n.getMessage('empty_account_id_of_' + this.props.account.api)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{this.props.account.verified && <span className={styles.verified} />}\n\t\t\t\t\t</div>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.account.text &&\n\t\t\t\t\t\t<Collapsable className={styles.description} onExpand={this.onExpandDescription} onResize={this.props.onResize}>\n\t\t\t\t\t\t\t<p className={styles.text} dangerouslySetInnerHTML={{ __html: this.props.account.text }} />\n\t\t\t\t\t\t</Collapsable>\n\t\t\t\t\t}\n\t\t\t\t\t<AccountFooter className={styles.footer} account={this.props.account} />\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t);\n\t}\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/AccountHovercard/AccountHovercard.js\n **/","var _          = require('underscore');\nvar React      = require('react');\nvar classnames = require('classnames');\n\nvar styles = require('./Carousel.styles');\n\nmodule.exports = React.createClass({\n\tdisplayName: 'Carousel',\n\tpropTypes:   {\n\t\tchildren:  React.PropTypes.arrayOf(React.PropTypes.node).isRequired,\n\t\tclassName: React.PropTypes.string,\n\t\tonChange:  React.PropTypes.func.isRequired,\n\t\tonResize:  React.PropTypes.func.isRequired\n\t},\n\tgetInitialState: function() {\n\t\treturn { index: 0 };\n\t},\n\tcomponentDidMount: function() {\n\t\twindow.addEventListener('keydown', this.onWindowKeyDown);\n\t},\n\tcomponentWillUnmount: function() {\n\t\twindow.addEventListener('keydown', this.onWindowKeyDown);\n\t},\n\tnext: function(how) {\n\t\tvar index = Math.min(this.props.children.length - 1, this.state.index + 1);\n\t\tthis.setState({ index: index }, this.props.onResize);\n\t\tthis.props.onChange(index, how);\n\t},\n\tprevious: function(how) {\n\t\tvar index = Math.max(0, this.state.index - 1);\n\t\tthis.setState({ index: index }, this.props.onResize);\n\t\tthis.props.onChange(index, how);\n\t},\n\tonWindowKeyDown: function(e) {\n\t\tswitch (e.keyCode) {\n\t\t\tcase 37:\n\t\t\tcase 72:\n\t\t\t\tif (this.state.index === 0) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthis.previous('keydown');\n\t\t\t\tbreak;\n\t\t\tcase 39:\n\t\t\tcase 76:\n\t\t\t\tif (this.state.index === this.props.children.length - 1) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthis.next('keydown');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t},\n\trender: function() {\n\t\tif (this.props.children.length === 0) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (\n\t\t\t<div className={classnames(styles.carousel, this.props.className)}>\n\t\t\t\t{\n\t\t\t\t\t(this.props.children.length > 1) &&\n\t\t\t\t\t<div className={styles.arrows}>\n\t\t\t\t\t\t{(this.state.index > 0) && <div className={styles.leftArrow} onClick={_.partial(this.previous, 'click')} />}\n\t\t\t\t\t\t{(this.state.index < this.props.children.length - 1) && <div className={styles.rightArrow} onClick={_.partial(this.next, 'click')} />}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{this.props.children[this.state.index]}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/Carousel/Carousel.js\n **/","var React      = require('react');\nvar classnames = require('classnames');\nvar connect    = require('react-redux').connect;\n\nvar Collapsable = require('../Collapsable/Collapsable');\nvar actions     = require('../../redux/actions.top-frame');\nvar entityLabel = require('../../utils/entity-label');\nvar report      = require('../../report');\nvar styles      = require('./ContentDescription.styles');\nvar urls        = require('../../integrations/urls');\n\nmodule.exports = connect(null, actions)(React.createClass({\n\tdisplayName: 'ContentDescription',\n\tpropTypes:   {\n\t\tanalytics: React.PropTypes.func.isRequired,\n\t\tclassName: React.PropTypes.string,\n\t\tcontent:   React.PropTypes.object.isRequired,\n\t\tonResize:  React.PropTypes.func.isRequired\n\t},\n\tcomponentDidUpdate: function(prevProps) {\n\t\tif (this.props.content === prevProps.content) {\n\t\t\treturn;\n\t\t}\n\t\tthis.props.onResize();\n\t},\n\tonExpandDescription: function() {\n\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.content, true), 'Expanded description'])\n\t\t\t.catch(report.catchException);\n\t},\n\trender: function() {\n\t\treturn (this.props.content.name || this.props.content.text) ?\n\t\t\t<Collapsable className={classnames(styles.description, this.props.className)} onExpand={this.onExpandDescription} onResize={this.props.onResize}>\n\t\t\t\t{ this.props.content.name && <a className={styles.name} href={this.props.content.url || urls.print(this.props.content)} target=\"_blank\">{ this.props.content.name }</a> }\n\t\t\t\t{ this.props.content.text && <p className={styles.text} dangerouslySetInnerHTML={{ __html: this.props.content.text }} /> }\n\t\t\t</Collapsable> :\n\t\t\tnull;\n\t}\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/ContentDescription/ContentDescription.js\n **/","var React      = require('react');\nvar classnames = require('classnames');\n\nvar TimeSince = require('../TimeSince/TimeSince');\nvar browser   = require('../../extension/browser');\nvar config    = require('../../integrations/config');\nvar format    = require('../../utils/format');\nvar styles    = require('../meta.styles');\nvar urls      = require('../../integrations/urls');\n\nmodule.exports = React.createClass({\n\tdisplayName: 'ContentFooter',\n\tpropTypes:   {\n\t\tclassName: React.PropTypes.string,\n\t\tcontent:   React.PropTypes.object.isRequired\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div className={styles.mediameta}>\n\t\t\t\t<div className={classnames(styles.meta, this.props.className)}>\n\t\t\t\t\t<div className={styles.metaMainContainer}>\n\t\t\t\t\t\t<div className={styles.metaMain}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.props.content.stats && config.integrations[this.props.content.api].content.stats.map(function(stat) {\n\t\t\t\t\t\t\t\t\tif (this.props.content.stats[stat] === undefined || this.props.content.stats[stat] === null) {\n\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvar number = stat.match(/_ratio$/) ?\n\t\t\t\t\t\t\t\t\t\tparseInt(this.props.content.stats[stat] * 100, 10) + '%' :\n\t\t\t\t\t\t\t\t\t\tformat.number(this.props.content.stats[stat]);\n\t\t\t\t\t\t\t\t\treturn <span key={stat} className={styles.metaItem}><em className={styles.metaNumber} title={this.props.content.stats[stat].toLocaleString()}>{number}</em> {browser.i18n.getMessage(stat + '_of_' + this.props.content.api) || browser.i18n.getMessage(stat)}</span>;\n\t\t\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.props.content.date &&\n\t\t\t\t\t\t\t<a className={styles.metaItem} href={urls.print(this.props.content) || this.props.content.url} target=\"_blank\">\n\t\t\t\t\t\t\t\t<TimeSince date={this.props.content.date} />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/ContentFooter/ContentFooter.js\n **/","var _          = require('underscore');\nvar React      = require('react');\nvar classnames = require('classnames');\nvar connect    = require('react-redux').connect;\n\nvar browser     = require('../../extension/browser');\nvar actions     = require('../../redux/actions.top-frame');\nvar config      = require('../../integrations/config');\nvar entityLabel = require('../../utils/entity-label');\nvar report      = require('../../report');\nvar styles      = require('./ContentHeader.styles');\nvar urls        = require('../../integrations/urls');\n\nmodule.exports = connect(null, actions)(React.createClass({\n\tdisplayName: 'ContentHeader',\n\tpropTypes:   {\n\t\tanalytics: React.PropTypes.func.isRequired,\n\t\tclassName: React.PropTypes.string,\n\t\tcontent:   React.PropTypes.object.isRequired\n\t},\n\tonShare: function(network, e) {\n\t\te.stopPropagation();\n\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.content, true), 'Shared', network])\n\t\t\t.catch(report.catchException);\n\t},\n\trender: function() {\n\t\tvar accountImage = (\n\t\t\t!config.integrations[this.props.content.api].account.noImage &&\n\t\t\tthis.props.content.account &&\n\t\t\tthis.props.content.account.image &&\n\t\t\t(\n\t\t\t\tthis.props.content.account.image.small ||\n\t\t\t\tthis.props.content.account.image.medium ||\n\t\t\t\tthis.props.content.account.image.large\n\t\t\t)\n\t\t);\n\t\tvar accountName = (\n\t\t\t(\n\t\t\t\tthis.props.content.account &&\n\t\t\t\t(\n\t\t\t\t\tthis.props.content.account.name ||\n\t\t\t\t\tbrowser.i18n.getMessage('account_id_of_' + this.props.content.account.api, [this.props.content.account.id]) ||\n\t\t\t\t\tbrowser.i18n.getMessage('account_id', [this.props.content.account.id])\n\t\t\t\t)\n\t\t\t) ||\n\t\t\tbrowser.i18n.getMessage('empty_account_id_of_' + ((this.props.content.account && this.props.content.account.api) || this.props.content.api))\n\t\t);\n\n\t\treturn (\n\t\t\t<div className={classnames(styles.header, this.props.className)}>\n\t\t\t\t{accountImage && <a className={styles.image} href={urls.print(this.props.content.account)} style={{ backgroundImage: 'url(' + accountImage + ')' }} target=\"_blank\" />}\n\t\t\t\t<div className={styles.nameContainer}>\n\t\t\t\t\t<a className={styles.name} href={urls.print(this.props.content.account)} target=\"_blank\">{accountName}</a>\n\t\t\t\t</div>\n\t\t\t\t<a className={styles.shareOnFacebook} href={'https://www.facebook.com/sharer/sharer.php?u=' + (this.props.content.url || urls.print(this.props.content))} target=\"_blank\" onClick={_.partial(this.onShare, 'facebook')} />\n\t\t\t\t<a className={styles.shareOnTwitter} href={'https://twitter.com/intent/tweet?url=' + (this.props.content.url || urls.print(this.props.content)) + '&via=hovercards&source=https://hovercards.com'} target=\"_blank\" onClick={_.partial(this.onShare, 'twitter')} />\n\t\t\t</div>\n\t\t);\n\t}\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/ContentHeader/ContentHeader.js\n **/","var React      = require('react');\nvar classnames = require('classnames');\n\nvar ContentDescription = require('../ContentDescription/ContentDescription');\nvar ContentFooter      = require('../ContentFooter/ContentFooter');\nvar ContentHeader      = require('../ContentHeader/ContentHeader');\nvar Discussions        = require('../Discussions/Discussions');\nvar Err                = require('../Err/Err');\nvar Loading            = require('../Loading/Loading');\nvar Media              = require('../Media/Media');\nvar styles             = require('./ContentHovercard.styles');\n\nmodule.exports = React.createClass({\n\tdisplayName: 'ContentHovercard',\n\tpropTypes:   {\n\t\tclassName: React.PropTypes.string,\n\t\tcontent:   React.PropTypes.object.isRequired,\n\t\thovered:   React.PropTypes.bool.isRequired,\n\t\tmeta:      React.PropTypes.object.isRequired,\n\t\tonResize:  React.PropTypes.func.isRequired\n\t},\n\trender: function() {\n\t\tvar className = classnames(styles.content, this.props.className);\n\n\t\tif (this.props.content.err) {\n\t\t\treturn <Err className={className} error={this.props.content.err} />;\n\t\t}\n\t\tif (!this.props.content.loaded) {\n\t\t\treturn <Loading className={className} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={className}>\n\t\t\t\t<ContentHeader content={this.props.content} />\n\t\t\t\t<ContentDescription content={this.props.content} onResize={this.props.onResize} />\n\t\t\t\t<Media content={this.props.content} hovered={this.props.hovered} meta={this.props.meta} onResize={this.props.onResize} />\n\t\t\t\t<ContentFooter content={this.props.content} />\n\t\t\t\t<Discussions content={this.props.content} onResize={this.props.onResize} />\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/ContentHovercard/ContentHovercard.js\n **/","var React      = require('react');\nvar classnames = require('classnames');\n\nvar browser = require('../../extension/browser');\nvar config  = require('../../integrations/config');\nvar format  = require('../../utils/format');\nvar styles  = require('./DiscussionComment.styles.css');\nvar urls    = require('../../integrations/urls');\n\nvar DiscussionComment = module.exports = React.createClass({\n\tdisplayName: 'DiscussionComment',\n\tpropTypes:   {\n\t\tclassName:   React.PropTypes.string,\n\t\tcomment:     React.PropTypes.object.isRequired,\n\t\tintegration: React.PropTypes.string.isRequired,\n\t\tonClickText: React.PropTypes.func.isRequired\n\t},\n\trender: function() {\n\t\tvar accountImage = (\n\t\t\t!config.integrations[this.props.integration].account.noImage &&\n\t\t\tthis.props.comment.account &&\n\t\t\tthis.props.comment.account.image &&\n\t\t\t(\n\t\t\t\tthis.props.comment.account.image.medium ||\n\t\t\t\tthis.props.comment.account.image.large ||\n\t\t\t\tthis.props.comment.account.image.small\n\t\t\t)\n\t\t);\n\t\tvar accountName = (\n\t\t\t(\n\t\t\t\tthis.props.comment.account &&\n\t\t\t\t(\n\t\t\t\t\tthis.props.comment.account.name ||\n\t\t\t\t\tbrowser.i18n.getMessage('account_id_of_' + this.props.integration, [this.props.comment.account.id]) ||\n\t\t\t\t\tbrowser.i18n.getMessage('account_id', [this.props.comment.account.id])\n\t\t\t\t)\n\t\t\t) ||\n\t\t\tbrowser.i18n.getMessage('empty_account_id_of_' + this.props.integration)\n\t\t);\n\n\t\treturn (\n\t\t\t<div className={classnames(styles.commentContainer, this.props.className)}>\n\t\t\t\t<div className={styles.comment}>\n\t\t\t\t\t{\n\t\t\t\t\t\t!config.integrations[this.props.integration].account.noImage &&\n\t\t\t\t\t\t<div className={styles.accountImageContainer}>\n\t\t\t\t\t\t\t<a className={classnames(styles.accountImage, { [styles.empty]: !accountImage })} style={{ backgroundImage: accountImage && ('url(' + accountImage + ')') }} href={urls.print(this.props.comment.account)} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t<div className={styles.description}>\n\t\t\t\t\t\t<a className={styles.accountName} href={urls.print(this.props.comment.account)} target=\"_blank\">{accountName}</a>\n\t\t\t\t\t\t<p className={styles.text} dangerouslySetInnerHTML={{ __html: this.props.comment.text }} onClick={this.props.onClickText} />\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconfig.integrations[this.props.integration].discussion.comments &&\n\t\t\t\t\t\t\tconfig.integrations[this.props.integration].discussion.comments.stats &&\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{config.integrations[this.props.integration].discussion.comments.stats.map(function(stat) {\n\t\t\t\t\t\t\t\t\tif (this.props.comment.stats[stat] === undefined) {\n\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvar number = format.number(this.props.comment.stats[stat]);\n\n\t\t\t\t\t\t\t\t\treturn <span key={stat} className={styles.stat}><em className={styles.statNumber} title={this.props.comment.stats[stat].toLocaleString()}>{number}</em> {browser.i18n.getMessage(stat + '_of_' + this.props.integration) || browser.i18n.getMessage(stat)}</span>;\n\t\t\t\t\t\t\t\t}.bind(this))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tthis.props.comment.replies &&\n\t\t\t\t\tBoolean(this.props.comment.replies.length) &&\n\t\t\t\t\t<div className={styles.replies}>\n\t\t\t\t\t\t{this.props.comment.replies && this.props.comment.replies.map(function(reply, i) {\n\t\t\t\t\t\t\treturn <DiscussionComment key={reply.id || i} comment={reply} integration={this.props.integration} onClickText={this.props.onClickText} />;\n\t\t\t\t\t\t}.bind(this))}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/DiscussionComment/DiscussionComment.js\n **/","var _          = require('underscore');\nvar React      = require('react');\nvar classnames = require('classnames');\nvar connect    = require('react-redux').connect;\n\nvar DiscussionComment = require('../DiscussionComment/DiscussionComment');\nvar Err               = require('../Err/Err');\nvar Loading           = require('../Loading/Loading');\nvar actions           = require('../../redux/actions.top-frame');\nvar browser           = require('../../extension/browser');\nvar config            = require('../../integrations/config');\nvar entityLabel       = require('../../utils/entity-label');\nvar report            = require('../../report');\nvar styles            = require('./Discussions.styles');\n\nmodule.exports = connect(\n\tfunction(state, ownProps) {\n\t\treturn {\n\t\t\tdiscussions: config.integrations[ownProps.content.api].discussion.integrations.map(function(integration) {\n\t\t\t\tvar request = discussionRequest(ownProps.content, integration);\n\n\t\t\t\treturn state.entities[entityLabel(request)] || request;\n\t\t\t})\n\t\t};\n\t},\n\tactions\n)(React.createClass({\n\tdisplayName: 'Discussions',\n\tpropTypes:   {\n\t\tanalytics:   React.PropTypes.func.isRequired,\n\t\tclassName:   React.PropTypes.string,\n\t\tcontent:     React.PropTypes.object.isRequired,\n\t\tdiscussions: React.PropTypes.array.isRequired,\n\t\tgetEntity:   React.PropTypes.func.isRequired,\n\t\tonResize:    React.PropTypes.func.isRequired\n\t},\n\tgetInitialState: function() {\n\t\treturn { loaded: {} };\n\t},\n\tcomponentDidMount: function() {\n\t\tthis.props.getEntity(this.props.discussions[0])\n\t\t\t.catch(report.catchException);\n\t\tthis.setState({ loaded: Object.assign({}, this.state.loaded, { 0: true }) });\n\t},\n\tcomponentDidUpdate: function(prevProps, prevState) {\n\t\tif (_.isNumber(this.state.selected) && (this.state.selected !== prevState.selected || this.props.discussions[this.state.selected].loaded !== prevProps.discussions[this.state.selected].loaded || this.props.discussions[this.state.selected].err !== prevProps.discussions[this.state.selected].err)) {\n\t\t\tthis.props.onResize();\n\t\t}\n\t\tif (entityLabel(this.props.content) !== entityLabel(prevProps.content)) {\n\t\t\tthis.setState({ selected: this.state.clicked ? this.state.selected : null, loaded: {} });\n\t\t\treturn;\n\t\t}\n\t\tthis.props.discussions.forEach(function(discussion, i) {\n\t\t\tif (entityLabel(discussion) === entityLabel(prevProps.discussions[i])) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.setState({ loaded: Object.assign({}, this.state.loaded, { [i]: false }) });\n\t\t}.bind(this));\n\n\t\tif (_.isNumber(this.state.selected)) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (var i = 0; i < this.props.discussions.length; i++) {\n\t\t\tvar discussion = this.props.discussions[i];\n\n\t\t\tif (!discussion.loaded && !discussion.err) {\n\t\t\t\tif (!this.state.loaded[i]) {\n\t\t\t\t\tthis.props.getEntity(discussion)\n\t\t\t\t\t\t.catch(report.catchException);\n\t\t\t\t\tthis.setState({ loaded: Object.assign({}, this.state.loaded, { [i]: true }) });\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (discussion.comments && discussion.comments.length) {\n\t\t\t\tthis.setState({ selected: i });\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tthis.setState({ selected: 0 });\n\t},\n\tselect: function(i) {\n\t\tif (!this.state.loaded[i]) {\n\t\t\tthis.props.getEntity(this.props.discussions[i])\n\t\t\t\t.catch(report.catchException);\n\t\t}\n\t\tthis.setState({ clicked: true, selected: i, loaded: Object.assign({}, this.state.loaded, { [i]: true }) });\n\t\tif (this.state.selected !== i) {\n\t\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.content, true), 'Discussion Selected', entityLabel(this.props.discussions[i], true), i])\n\t\t\t\t.catch(report.catchException);\n\t\t}\n\t},\n\tonClickCommentText: function(e) {\n\t\tvar element = e.target;\n\t\twhile (element && element.tagName.toLowerCase() !== 'a') {\n\t\t\tif (element === this.refs.discussion) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telement = element.parentNode;\n\t\t}\n\t\tif (!element.href) {\n\t\t\treturn;\n\t\t}\n\t\te.stopPropagation();\n\t\tif (element.target !== '_blank') {\n\t\t\te.preventDefault();\n\t\t\twindow.open(element.href);\n\t\t}\n\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.content, true), 'Link Opened', 'in a ' + entityLabel(this.props.discussions[this.state.selected], true)])\n\t\t\t.catch(report.catchException);\n\t},\n\trender: function() {\n\t\tvar discussion = this.props.discussions[this.state.selected];\n\n\t\treturn (\n\t\t\t<div className={classnames(styles.discussionsContainer, this.props.className)}>\n\t\t\t\t<div className={styles.discussions}>\n\t\t\t\t\t{\n\t\t\t\t\t\t(this.props.discussions.length > 1 || this.props.discussions[0].api !== this.props.content.api) &&\n\t\t\t\t\t\t<div className={styles.tabsContainer}>\n\t\t\t\t\t\t\t<div className={styles.tabs}>\n\t\t\t\t\t\t\t\t{this.props.discussions.map(function(discussion, i) {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<span key={discussion.api} className={classnames(styles.tab, { [styles.selected]: i === this.state.selected })} onClick={_.partial(this.select, i)}>\n\t\t\t\t\t\t\t\t\t\t\t{browser.i18n.getMessage('name_of_' + discussion.api)}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}.bind(this))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t{discussion && discussion.err && <Err error={discussion.err} />}\n\t\t\t\t\t{(!discussion || (!discussion.err && !discussion.loaded)) && <Loading />}\n\t\t\t\t\t{discussion && !discussion.err && discussion.loaded && (\n\t\t\t\t\t\tdiscussion.comments && discussion.comments.length &&\n\t\t\t\t\t\t<div ref=\"discussion\">\n\t\t\t\t\t\t\t{discussion.comments.map(function(comment, i) {\n\t\t\t\t\t\t\t\treturn <DiscussionComment key={comment.id || i} comment={comment} integration={discussion.api} onClickText={this.onClickCommentText} />;\n\t\t\t\t\t\t\t}.bind(this))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}));\n\nfunction discussionRequest(content, integration) {\n\tif (content.api === integration) {\n\t\treturn Object.assign({ type: 'discussion' }, _.pick(content, 'api', 'id', 'as', 'for', 'account'));\n\t}\n\treturn { api: integration, type: 'discussion', for: _.pick(content, 'api', 'type', 'id', 'as', 'for', 'account') };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/Discussions/Discussions.js\n **/","var React      = require('react');\nvar classnames = require('classnames');\n\nvar styles = require('./Gif.styles');\n\nmodule.exports = React.createClass({\n\tdisplayName: 'Gif',\n\tpropTypes:   {\n\t\tclassName: React.PropTypes.string,\n\t\tgif:       React.PropTypes.string.isRequired,\n\t\timage:     React.PropTypes.object,\n\t\tonLoad:    React.PropTypes.func.isRequired\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<video className={classnames(styles.gif, this.props.className)}\n\t\t\t\tsrc={this.props.gif}\n\t\t\t\tposter={this.props.image && (this.props.image.medium || this.props.image.large || this.props.image.small)}\n\t\t\t\tmuted={true}\n\t\t\t\tautoPlay={true}\n\t\t\t\tloop={true}\n\t\t\t\tcontrols={false}\n\t\t\t\tonLoad={this.props.onLoad}\n\t\t\t\tonLoadStart={this.props.onLoad}\n\t\t\t\tonLoadedData={this.props.onLoad}\n\t\t\t\tonPlay={this.props.onLoad} />\n\t\t);\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/Gif/Gif.js\n **/","var _          = require('underscore');\nvar React      = require('react');\nvar classnames = require('classnames');\nvar connect    = require('react-redux').connect;\n\nvar AccountHovercard = require('../AccountHovercard/AccountHovercard');\nvar ContentHovercard = require('../ContentHovercard/ContentHovercard');\nvar actions          = require('../../redux/actions.top-frame');\nvar dom              = require('../../utils/dom');\nvar entityLabel      = require('../../utils/entity-label');\nvar report           = require('../../report');\nvar styles           = require('./Hovercard.styles');\nvar urls             = require('../../integrations/urls');\n\nvar PADDING_FROM_EDGES   = 10;\nvar TIMEOUT_BEFORE_CLOSE = 100;\n\nmodule.exports = connect(null, actions)(React.createClass({\n\tdisplayName: 'Hovercard',\n\tpropTypes:   {\n\t\tanalytics: React.PropTypes.func.isRequired,\n\t\tclassName: React.PropTypes.string,\n\t\telement:   React.PropTypes.object.isRequired,\n\t\tentity:    React.PropTypes.object,\n\t\tevent:     React.PropTypes.object.isRequired,\n\t\tgetEntity: React.PropTypes.func.isRequired,\n\t\trequest:   React.PropTypes.object.isRequired,\n\t\tonClose:   React.PropTypes.func.isRequired\n\t},\n\tgetInitialState: function() {\n\t\treturn { hovered: false, offset: {} };\n\t},\n\tcomponentDidMount: function() {\n\t\tthis.props.element.addEventListener('click', this.onClickElement);\n\t\tthis.props.element.addEventListener('mousemove', this.clearCloseTimeout);\n\t\tthis.props.element.addEventListener('mouseleave', this.setCloseTimeout);\n\t\twindow.addEventListener('blur', this.onWindowBlur);\n\t\twindow.addEventListener('scroll', this.positionHovercard);\n\t\twindow.addEventListener('resize', this.positionHovercard);\n\t\tthis.positionHovercard();\n\t\tthis.props.getEntity(_.omit(this.props.request, 'meta'))\n\t\t\t.catch(report.catchException);\n\t\tthis.mountedTime = Date.now();\n\t\tif (this.props.entity && (this.props.entity.loaded || this.props.entity.err)) {\n\t\t\tthis.loadedTime = Date.now();\n\t\t}\n\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.entity || this.props.request, true), 'Hovercard Opened (exclude loading)', (this.props.entity || this.props.request).err && 'error hovercard'])\n\t\t\t.catch(report.catchException);\n\t},\n\tcomponentDidUpdate: function(prevProps) {\n\t\tif (this.loadedTime) {\n\t\t\treturn;\n\t\t}\n\t\tif (prevProps.entity && (prevProps.entity.loaded || prevProps.entity.err)) {\n\t\t\treturn;\n\t\t}\n\t\tif (!this.props.entity || (!this.props.entity.loaded && !this.props.entity.err)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.loadedTime = Date.now();\n\t},\n\tcomponentWillUnmount: function() {\n\t\tif (this.loadedTime) {\n\t\t\tthis.props.analytics(['send', 'timing', entityLabel(this.props.entity, true), 'Hovercard Open (exclude loading)', Date.now() - this.loadedTime, this.props.entity.err && 'error hovercard'])\n\t\t\t\t.catch(report.catchException);\n\t\t}\n\t\tif (this.hasScrolled) {\n\t\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.entity, true), 'Hovercard Scrolled', this.props.entity.err && 'error hovercard', this.scrolledAmount])\n\t\t\t\t.catch(report.catchException);\n\t\t}\n\t\tthis.props.element.removeEventListener('click', this.onClickElement);\n\t\tthis.props.element.removeEventListener('mousemove', this.clearCloseTimeout);\n\t\tthis.props.element.removeEventListener('mouseleave', this.setCloseTimeout);\n\t\twindow.removeEventListener('blur', this.onWindowBlur);\n\t\twindow.removeEventListener('scroll', this.positionHovercard);\n\t\twindow.removeEventListener('resize', this.positionHovercard);\n\t},\n\tclearCloseTimeout: function() {\n\t\tclearTimeout(this.closeTimeout);\n\t},\n\tcloseHovercard: function() {\n\t\tif (process.env.NODE_ENV !== 'production' && process.env.STICKYCARDS) {\n\t\t\treturn;\n\t\t}\n\t\tthis.onMouseLeave();\n\t\tthis.props.onClose();\n\t},\n\tpositionHovercard: function() {\n\t\tif (!this.isMounted()) {\n\t\t\t// HACK isMounted is an anti-pattern https://facebook.github.io/react/blog/2015/12/16/ismounted-antipattern.html\n\t\t\treturn;\n\t\t}\n\t\tthis.setState(function() {\n\t\t\treturn {\n\t\t\t\toffset: {\n\t\t\t\t\ttop: Math.max(\n\t\t\t\t\t\twindow.scrollY + PADDING_FROM_EDGES, // Keep the hovercard from going off the top of the page\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\twindow.scrollY + window.innerHeight - this.refs.hovercard.offsetHeight - PADDING_FROM_EDGES, // Keep the hovercard from going off the bottom of the page\n\t\t\t\t\t\t\tthis.props.event.pageY - Math.min(\n\t\t\t\t\t\t\t\tthis.refs.hovercard.offsetHeight / 2, // Keep the hovercard from being above the cursor\n\t\t\t\t\t\t\t\t70 // Start the hovercard offset above the cursor\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tleft: Math.max(\n\t\t\t\t\t\twindow.scrollX + PADDING_FROM_EDGES, // Keep the hovercard from going off the left of the page\n\t\t\t\t\t\tthis.props.event.pageX + (\n\t\t\t\t\t\t\t(this.props.event.pageX + 1 > window.scrollX + window.innerWidth - this.refs.hovercard.offsetWidth - PADDING_FROM_EDGES) ?\n\t\t\t\t\t\t\t\t-this.refs.hovercard.offsetWidth - 1 :// Keep the hovercard from going off the right of the page by putting it on the left\n\t\t\t\t\t\t\t\t1 // Put the hovercard on the right\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t\tthis.setScrollPosition();\n\t},\n\tsetCloseTimeout: function(e) {\n\t\tif (e) {\n\t\t\tvar element = e.relatedTarget;\n\t\t\twhile (element && element !== document.documentElement) {\n\t\t\t\tif (element === this.element && element === this.refs.hovercard) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\t\t}\n\t\tthis.closeTimeout = setTimeout(this.closeHovercard, TIMEOUT_BEFORE_CLOSE);\n\t},\n\tsetScrollPosition: function(e) {\n\t\tthis.hasScrolled = this.hasScrolled || Boolean(e);\n\t\tthis.scrolledAmount = Math.max(this.scrolledAmount || 0, this.refs.hovercard.scrollTop);\n\t},\n\tonClick: function(e) {\n\t\tvar element = e.target;\n\t\twhile (element && element.tagName.toLowerCase() !== 'a') {\n\t\t\tif (element === this.refs.hovercard) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telement = element.parentNode;\n\t\t}\n\t\tif (!element.href) {\n\t\t\treturn;\n\t\t}\n\t\te.stopPropagation();\n\t\tif (element.target !== '_blank') {\n\t\t\te.preventDefault();\n\t\t\twindow.open(element.href);\n\t\t}\n\t\tvar linkEntity = urls.parse(element.href);\n\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.entity || this.props.request, true), 'Link Opened', linkEntity && entityLabel(linkEntity, true)])\n\t\t\t.catch(report.catchException);\n\t},\n\tonClickElement: function() {\n\t\tthis.closeHovercard();\n\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.entity || this.props.request, true), 'Original Link Opened'])\n\t\t\t.catch(report.catchException);\n\t},\n\tonMouseLeave: function(e) {\n\t\tif (!this.state.hovered) {\n\t\t\treturn;\n\t\t}\n\t\tthis.setCloseTimeout(e);\n\t\tthis.setState({ hovered: false });\n\t\tdom.removeClass(document.documentElement, styles.lockDocument);\n\t\tdom.removeClass(document.body, styles.lockBody);\n\t},\n\tonMouseMove: function() {\n\t\tif (this.state.hovered) {\n\t\t\treturn;\n\t\t}\n\t\tthis.clearCloseTimeout();\n\t\tif (!this.firstHoveredTime) {\n\t\t\tthis.firstHoveredTime = Date.now();\n\t\t\tthis.props.analytics(['send', 'timing', entityLabel(this.props.entity || this.props.request, true), 'Until hovered on hovercard (include loading)', this.firstHoveredTime - this.mountedTime, (this.props.entity || this.props.request).err && 'error hovercard'])\n\t\t\t\t.catch(report.catchException);\n\t\t}\n\t\tthis.setState({ hovered: true });\n\t\tdom.addClass(document.documentElement, styles.lockDocument);\n\t\tdom.addClass(document.body, styles.lockBody);\n\t},\n\tonWindowBlur: function() {\n\t\tif (document.activeElement.tagName.toLowerCase() === 'iframe') {\n\t\t\treturn;\n\t\t}\n\t\t/*\n\t\t * TODO https://github.com/kogg/hovercards/issues/14\n\t\tvar element = document.activeElement;\n\t\twhile (element !== document.documentElement) {\n\t\t\tif (element === this.refs.hovercard) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telement = element.parentNode;\n\t\t}\n\t\t*/\n\t\tthis.closeHovercard();\n\t},\n\trender: function() {\n\t\tvar entityOrRequest = this.props.entity || this.props.request;\n\n\t\treturn (\n\t\t\t<div className={classnames(styles.hovercard, this.props.className)} style={this.state.offset} ref=\"hovercard\"\n\t\t\t\tonClick={this.onClick}\n\t\t\t\tonMouseMove={this.onMouseMove}\n\t\t\t\tonMouseLeave={this.onMouseLeave}\n\t\t\t\tonScroll={this.setScrollPosition}>\n\t\t\t\t{\n\t\t\t\t\tentityOrRequest.type === 'content' ?\n\t\t\t\t\t\t<ContentHovercard content={entityOrRequest}\n\t\t\t\t\t\t\tmeta={this.props.request.meta || {}}\n\t\t\t\t\t\t\thovered={this.state.hovered}\n\t\t\t\t\t\t\tonResize={this.positionHovercard} /> :\n\t\t\t\t\t\t<AccountHovercard account={entityOrRequest}\n\t\t\t\t\t\t\thovered={this.state.hovered}\n\t\t\t\t\t\t\tonResize={this.positionHovercard} />\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/Hovercard/Hovercard.js\n **/","var _                        = require('underscore');\nvar React                    = require('react');\nvar connect                  = require('react-redux').connect;\nvar createStructuredSelector = require('reselect').createStructuredSelector;\n\nrequire('./Hovercards.styles');\nvar Hovercard   = require('../Hovercard/Hovercard');\nvar actions     = require('../../redux/actions.top-frame');\nvar dom         = require('../../utils/dom');\nvar entityLabel = require('../../utils/entity-label');\nvar urls        = require('../../integrations/urls');\n\nvar TIMEOUT_BEFORE_CARD = 500;\n\nmodule.exports = connect(\n\tcreateStructuredSelector({\n\t\tentities: _.property('entities'),\n\t\toptions:  _.property('options')\n\t}),\n\tactions\n)(React.createClass({\n\tdisplayName: 'Hovercards',\n\tpropTypes:   {\n\t\tclassName: React.PropTypes.string,\n\t\tentities:  React.PropTypes.object.isRequired,\n\t\toptions:   React.PropTypes.object.isRequired\n\t},\n\tgetInitialState: function() {\n\t\treturn { hovercards: [], incrementingId: 0 };\n\t},\n\tcomponentDidMount: function() {\n\t\tdocument.documentElement.addEventListener('mousemove', this.considerElement);\n\t},\n\tcomponentWillUnmount: function() {\n\t\tdocument.documentElement.removeEventListener('mousemove', this.considerElement);\n\t},\n\tconsiderElement: function(event) {\n\t\tvar element = event.target;\n\t\tif (!element) {\n\t\t\treturn;\n\t\t}\n\t\twhile (!_.contains(['a', 'iframe'], (element.nodeName || element.tagName || '').toLowerCase())) {\n\t\t\tif (element === document.documentElement || element === this.refs.hovercards || dom.hasClass(element, 'no-hovercards') || dom.hasClass(element, 'hoverZoomLink')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telement = element.parentNode;\n\t\t\tif (!element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (this.lastElement === element) {\n\t\t\treturn;\n\t\t}\n\t\tthis.lastElement = element;\n\t\tif (_.findWhere(this.state.hovercards, { element: element })) {\n\t\t\treturn;\n\t\t}\n\t\tvar parents = [];\n\t\tvar currentParent = element;\n\t\twhile (currentParent !== document.documentElement) {\n\t\t\tparents.push(currentParent);\n\t\t\tif (currentParent === this.refs.hovercards || dom.hasClass(currentParent, 'no-hovercards') || dom.hasClass(currentParent, 'hoverZoomLink')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcurrentParent = currentParent.parentNode;\n\t\t\tif (!currentParent) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tvar checks = [{ element: element }];\n\t\tif (this.props.options.reddit.content.enabled && document.location.hostname.endsWith('reddit.com') && dom.hasClass(element, 'title')) {\n\t\t\tvar anotherElement = _.chain(element)\n\t\t\t\t.result('parentNode')\n\t\t\t\t.result('parentNode')\n\t\t\t\t.result('childNodes')\n\t\t\t\t.find(function(element) {\n\t\t\t\t\treturn dom.hasClass(element, ['flat-list', 'buttons']);\n\t\t\t\t})\n\t\t\t\t.result('childNodes')\n\t\t\t\t.find(function(element) {\n\t\t\t\t\treturn dom.hasClass(element, 'first');\n\t\t\t\t})\n\t\t\t\t.result('childNodes')\n\t\t\t\t.find(function(element) {\n\t\t\t\t\treturn dom.hasClass(element, 'comments');\n\t\t\t\t})\n\t\t\t\t.value();\n\t\t\tif (anotherElement) {\n\t\t\t\tchecks.push({ element: anotherElement });\n\t\t\t}\n\t\t}\n\t\tvar request;\n\t\tfor (var i = 0; i < checks.length && !request; i++) {\n\t\t\tvar check = checks[i];\n\t\t\tvar url;\n\t\t\tswitch ((check.element.nodeName || check.element.tagName || '').toLowerCase()) {\n\t\t\t\tcase 'a':\n\t\t\t\t\turl = (check.element.dataset && (check.element.dataset.expandedUrl || check.element.dataset.href || check.element.dataset.fullUrl)) || check.element.href;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'iframe':\n\t\t\t\t\tvar match = check.element.src.match(/[?&]screen_name=([a-zA-Z0-9_]+)(?:&|$)/);\n\t\t\t\t\tif (!match || !match[1]) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\turl = 'https://twitter.com/' + match[1];\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (!url) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\turl = dom.massageUrl(url);\n\t\t\tif (!url) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\trequest = urls.parse(url);\n\t\t\tif (!request) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (!this.props.options[request.api][request.type].enabled || (check.element === element && !acceptRequest(request, element, parents))) {\n\t\t\t\trequest = null;\n\t\t\t}\n\t\t}\n\t\tif (!request) {\n\t\t\treturn;\n\t\t}\n\t\tthis.waitForHovercard(element, request, event);\n\t},\n\twaitForHovercard: function(element, request, event) {\n\t\tvar timeout = setTimeout(function() {\n\t\t\tcleanup();\n\t\t\tthis.setState({\n\t\t\t\thovercards:     this.state.hovercards.concat({ key: this.state.incrementingId, element: element, request: request, event: event }),\n\t\t\t\tincrementingId: this.state.incrementingId + 1\n\t\t\t});\n\t\t}.bind(this), TIMEOUT_BEFORE_CARD);\n\n\t\telement.addEventListener('mouseleave', abandon);\n\t\telement.addEventListener('mousemove', updateEvent);\n\t\twindow.addEventListener('blur', abandon);\n\n\t\tvar that = this;\n\n\t\tfunction abandon() {\n\t\t\tcleanup();\n\t\t}\n\n\t\tfunction cleanup() {\n\t\t\telement.removeEventListener('mouseleave', abandon);\n\t\t\telement.removeEventListener('mousemove', updateEvent);\n\t\t\twindow.removeEventListener('blur', abandon);\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = null;\n\t\t\tthat.lastElement = (that.lastElement !== element) && that.lastElement;\n\t\t}\n\n\t\tfunction updateEvent(newEvent) {\n\t\t\tevent = newEvent;\n\t\t}\n\t},\n\tremoveHovercard: function(hovercard) {\n\t\tthis.setState({ hovercards: _.without(this.state.hovercards, hovercard) });\n\t\tthis.lastElement = (this.lastElement !== hovercard.element) && this.lastElement;\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div className={this.props.className} ref=\"hovercards\">\n\t\t\t\t{this.state.hovercards.map(function(hovercard) {\n\t\t\t\t\treturn <Hovercard key={hovercard.key}\n\t\t\t\t\t\trequest={hovercard.request}\n\t\t\t\t\t\tentity={this.props.entities[entityLabel(hovercard.request)]}\n\t\t\t\t\t\telement={hovercard.element}\n\t\t\t\t\t\tevent={hovercard.event}\n\t\t\t\t\t\tonClose={_.partial(this.removeHovercard, hovercard)} />;\n\t\t\t\t}.bind(this))}\n\t\t\t</div>\n\t\t);\n\t}\n}));\n\nfunction acceptRequest(request, element, parents) {\n\treturn request.api !== document.domain.replace(/\\.com$/, '').replace(/^.*\\./, '') ||\n\t\t(\n\t\t\trequest.api === 'imgur' &&\n\t\t\trequest.type === 'account' &&\n\t\t\t!dom.hasClass(element, 'account-user-name') &&\n\t\t\t_.chain(parents)\n\t\t\t\t.every(function(parent) {\n\t\t\t\t\treturn dom.hasClass(parent, 'options') || dom.hasClass(parent, 'user-dropdown');\n\t\t\t\t})\n\t\t\t\t.isEmpty()\n\t\t\t\t.value()\n\t\t) ||\n\t\t(\n\t\t\trequest.api === 'reddit' &&\n\t\t\t(\n\t\t\t\trequest.type === 'account' ?\n\t\t\t\t\t!dom.hasClass(document.body, 'res') &&\n\t\t\t\t\t_.chain(parents)\n\t\t\t\t\t\t.every(function(parent) {\n\t\t\t\t\t\t\treturn dom.hasClass(parent, 'tabmenu') || dom.hasClass(parent, 'user');\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.isEmpty()\n\t\t\t\t\t\t.value() :\n\t\t\t\t\t!dom.hasClass(element, 'search-comments') && !dom.hasClass(element, 'comments')\n\t\t\t)\n\t\t) ||\n\t\t(\n\t\t\trequest.api === 'twitter' &&\n\t\t\trequest.type === 'account' &&\n\t\t\tdocument.domain === 'tweetdeck.twitter.com'\n\t\t);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/Hovercards/Hovercards.js\n **/","var React      = require('react');\nvar classnames = require('classnames');\n\nvar styles = require('./Image.styles');\n\nmodule.exports = React.createClass({\n\tdisplayName: 'Image',\n\tpropTypes:   {\n\t\tclassName: React.PropTypes.string,\n\t\timage:     React.PropTypes.object.isRequired,\n\t\tonLoad:    React.PropTypes.func.isRequired\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<img className={classnames(styles.image, this.props.className)} src={this.props.image.large || this.props.image.medium || this.props.image.small}\n\t\t\t\tonLoad={this.props.onLoad} />\n\t\t);\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/Image/Image.js\n **/","var React      = require('react');\nvar classnames = require('classnames');\nvar connect    = require('react-redux').connect;\n\nvar Carousel         = require('../Carousel/Carousel');\nvar Gif              = require('../Gif/Gif');\nvar Image            = require('../Image/Image');\nvar OEmbed           = require('../OEmbed/OEmbed');\nvar SoundCloudPlayer = require('../SoundCloudPlayer/SoundCloudPlayer');\nvar Video            = require('../Video/Video');\nvar YoutubeVideo     = require('../YoutubeVideo/YoutubeVideo');\nvar actions          = require('../../redux/actions.top-frame');\nvar entityLabel      = require('../../utils/entity-label');\nvar report           = require('../../report');\nvar styles           = require('./Media.styles');\n\nmodule.exports = connect(null, actions)(React.createClass({\n\tdisplayName: 'Media',\n\tpropTypes:   {\n\t\tanalytics: React.PropTypes.func.isRequired,\n\t\tclassName: React.PropTypes.string,\n\t\tcontent:   React.PropTypes.object.isRequired,\n\t\thovered:   React.PropTypes.bool.isRequired,\n\t\tmeta:      React.PropTypes.object.isRequired,\n\t\tonResize:  React.PropTypes.func.isRequired\n\t},\n\tonCarouselChange: function(index, how) {\n\t\tthis.props.analytics(['send', 'event', entityLabel(this.props.content, true), 'Carousel Changed', how, index])\n\t\t\t.catch(report.catchException);\n\t},\n\trender: function() {\n\t\tswitch (this.props.content.api) {\n\t\t\tcase 'imgur':\n\t\t\t\tif (!this.props.content.content) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<div className={classnames(styles.media, this.props.className)}>\n\t\t\t\t\t\t<Carousel onResize={this.props.onResize} onChange={this.onCarouselChange}>\n\t\t\t\t\t\t\t{this.props.content.content.map(function(item, i) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div key={item.id || i}>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\titem.gif ?\n\t\t\t\t\t\t\t\t\t\t\t\t<Gif gif={item.gif} image={item.image} onLoad={this.props.onResize} /> :\n\t\t\t\t\t\t\t\t\t\t\t\t<Image image={item.image} onLoad={this.props.onResize} />\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t<div className={styles.description}>\n\t\t\t\t\t\t\t\t\t\t\t<b className={styles.name}>{ item.name }</b>\n\t\t\t\t\t\t\t\t\t\t\t<p className={styles.text} dangerouslySetInnerHTML={{ __html: item.text }} />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}.bind(this))}\n\t\t\t\t\t\t</Carousel>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 'soundcloud':\n\t\t\t\treturn (\n\t\t\t\t\t<div className={classnames(styles.media, this.props.className)}>\n\t\t\t\t\t\t<SoundCloudPlayer content={this.props.content} image={this.props.content.image} muted={!this.props.hovered} meta={this.props.meta} onLoad={this.props.onResize} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tcase 'youtube':\n\t\t\t\treturn (\n\t\t\t\t\t<div className={classnames(styles.media, this.props.className)}>\n\t\t\t\t\t\t<YoutubeVideo content={this.props.content} image={this.props.content.image} muted={!this.props.hovered} meta={this.props.meta} onLoad={this.props.onResize} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t\tif (this.props.content.oembed) {\n\t\t\treturn (\n\t\t\t\t<div className={classnames(styles.media, this.props.className)}>\n\t\t\t\t\t<OEmbed oembed={this.props.content.oembed} image={this.props.content.image} onLoad={this.props.onResize} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tif (this.props.content.video) {\n\t\t\treturn (\n\t\t\t\t<div className={classnames(styles.media, this.props.className)}>\n\t\t\t\t\t<Video video={this.props.content.video} image={this.props.content.image} muted={!this.props.hovered} onLoad={this.props.onResize} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tif (this.props.content.gif) {\n\t\t\treturn (\n\t\t\t\t<div className={classnames(styles.media, this.props.className)}>\n\t\t\t\t\t<Gif gif={this.props.content.gif} image={this.props.content.image} onLoad={this.props.onResize} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tif (this.props.content.images) {\n\t\t\treturn (\n\t\t\t\t<div className={classnames(styles.media, this.props.className)}>\n\t\t\t\t\t<Carousel onResize={this.props.onResize} onChange={this.onCarouselChange}>\n\t\t\t\t\t\t{this.props.content.images.map(function(image, i) {\n\t\t\t\t\t\t\treturn <Image key={i} image={image} onLoad={this.props.onResize} />;\n\t\t\t\t\t\t}.bind(this))}\n\t\t\t\t\t</Carousel>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\tif (this.props.content.image) {\n\t\t\treturn (\n\t\t\t\t<div className={classnames(styles.media, this.props.className)}>\n\t\t\t\t\t<Image image={this.props.content.image} onLoad={this.props.onResize} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t}\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/Media/Media.js\n **/","var React      = require('react');\nvar classnames = require('classnames');\n\nvar dom    = require('../../utils/dom');\nvar styles = require('./OEmbed.styles');\n\nmodule.exports = React.createClass({\n\tdisplayName: 'OEmbed',\n\tpropTypes:   {\n\t\tclassName: React.PropTypes.string,\n\t\timage:     React.PropTypes.object,\n\t\toembed:    React.PropTypes.string.isRequired,\n\t\tonLoad:    React.PropTypes.func.isRequired\n\t},\n\tcomponentDidMount: function() {\n\t\tthis.massageIframe();\n\t},\n\tcomponentDidUpdate: function(prevProps) {\n\t\tif (this.props.oembed === prevProps.oembed) {\n\t\t\treturn;\n\t\t}\n\t\tthis.massageIframe();\n\t},\n\tcomponentWillUnmount: function() {\n\t\tvar iframe = this.refs.container.children[0];\n\t\tiframe.removeEventListener('onload', this.onLoad);\n\t},\n\tmassageIframe: function() {\n\t\tvar iframe = this.refs.container.children[0];\n\t\tdom.addClass(iframe, classnames(styles.oembed, this.props.className));\n\t\tiframe.style.height = (iframe.height / iframe.width * this.refs.container.offsetWidth) + 'px';\n\t\tiframe.addEventListener('onload', this.onLoad);\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<div className={styles.oembedContainer}\n\t\t\t\tref=\"container\"\n\t\t\t\tstyle={{ backgroundImage: this.props.image && ('url(' + (this.props.image.medium || this.props.image.large || this.props.image.small) + ')') }}\n\t\t\t\tdangerouslySetInnerHTML={{ __html: this.props.oembed }} />\n\t\t);\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/OEmbed/OEmbed.js\n **/","var _          = require('underscore');\nvar React      = require('react');\nvar classnames = require('classnames');\nvar errors     = require('feathers-errors');\nvar promisify  = require('es6-promisify');\n\nvar report = require('../../report');\nvar styles = require('./SoundCloudPlayer.styles');\nvar urls   = require('../../integrations/urls');\n\nvar SoundCloudPlayer = module.exports = React.createClass({\n\tdisplayName: 'SoundCloudPlayer',\n\tpropTypes:   {\n\t\tclassName: React.PropTypes.string,\n\t\tcontent:   React.PropTypes.object.isRequired,\n\t\timage:     React.PropTypes.object,\n\t\tmeta:      React.PropTypes.object.isRequired,\n\t\tmuted:     React.PropTypes.bool.isRequired,\n\t\tonLoad:    React.PropTypes.func.isRequired\n\t},\n\tstatics: {\n\t\tgetSC: function() {\n\t\t\tif (window.SC) {\n\t\t\t\treport.catchException(new Error('window.SC should not exist'));\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tSoundCloudPlayer.getSC = _.constant(\n\t\t\t\tfetch('https://w.soundcloud.com/player/api.js')\n\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\tif (!response.ok) {\n\t\t\t\t\t\t\tthrow new errors.FeathersError('Youtube API won\\'t load', 'FeathersError');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn response.text();\n\t\t\t\t\t})\n\t\t\t\t\t.then(function(text) {\n\t\t\t\t\t\t// HACK Eval-ing text we downloaded\n\t\t\t\t\t\teval(text); // eslint-disable-line no-eval\n\t\t\t\t\t\treturn window.SC;\n\t\t\t\t\t})\n\t\t\t);\n\t\t\treturn SoundCloudPlayer.getSC();\n\t\t}\n\t},\n\tgetInitialState: function() {\n\t\treturn { player: null };\n\t},\n\tcomponentDidMount: function() {\n\t\tSoundCloudPlayer.getSC()\n\t\t\t.then(function(SC) {\n\t\t\t\tvar player = SC.Widget(this.refs.player);\n\t\t\t\tplayer.bind(SC.Widget.Events.ERROR, report.catchException);\n\t\t\t\tif (this.props.meta.time_offset) {\n\t\t\t\t\tplayer.bind(SC.Widget.Events.PLAY, function() {\n\t\t\t\t\t\tplayer.seekTo(this.props.meta.time_offset * 1000);\n\t\t\t\t\t}.bind(this));\n\t\t\t\t}\n\t\t\t\treturn promisify(player.bind.bind(player))(SC.Widget.Events.READY)\n\t\t\t\t\t.then(_.constant(player));\n\t\t\t}.bind(this))\n\t\t\t.then(function(player) {\n\t\t\t\t// HACK https://twitter.com/saiichihashi/status/763499483057393664\n\t\t\t\tplayer.play();\n\t\t\t\tthis.setState({ player: player });\n\t\t\t}.bind(this))\n\t\t\t.catch(report.catchException);\n\t},\n\tcomponentDidUpdate: function() {\n\t\tif (!this.state || !this.state.player) {\n\t\t\treturn;\n\t\t}\n\t\tthis.state.player.setVolume(this.props.muted ? 0 : 1);\n\t},\n\trender: function() {\n\t\t// FIXME https://github.com/kogg/hovercards/issues/108\n\t\treturn (\n\t\t\t<iframe className={classnames(styles.player, this.props.className)}\n\t\t\t\tref=\"player\"\n\t\t\t\tsrc={'https://w.soundcloud.com/player/?url=' + encodeURI(urls.print(this.props.content)) + '&autoplay=false&hide_related=true&show_user=true&show_reposts=false&visual=true'}\n\t\t\t\tstyle={{ backgroundImage: this.props.image && ('url(' + (this.props.image.medium || this.props.image.large || this.props.image.small) + ')') }}\n\t\t\t\tscrolling={false}\n\t\t\t\tframeBorder={false}\n\t\t\t\tonLoad={this.props.onLoad} />\n\t\t);\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/SoundCloudPlayer/SoundCloudPlayer.js\n **/","var React      = require('react');\nvar classnames = require('classnames');\n\nvar styles = require('./Video.styles');\n\nmodule.exports = React.createClass({\n\tdisplayName: 'Video',\n\tpropTypes:   {\n\t\tclassName: React.PropTypes.string,\n\t\timage:     React.PropTypes.object,\n\t\tmuted:     React.PropTypes.bool.isRequired,\n\t\tonLoad:    React.PropTypes.func.isRequired,\n\t\tvideo:     React.PropTypes.string.isRequired\n\t},\n\tgetInitialState: function() {\n\t\treturn { playing: true };\n\t},\n\ttogglePlaying: function() {\n\t\tthis.refs.video[this.state.playing ? 'pause' : 'play']();\n\t\tthis.setState({ playing: !this.state.playing });\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<video className={classnames(styles.video, this.props.className)}\n\t\t\t\tref=\"video\"\n\t\t\t\tsrc={this.props.video}\n\t\t\t\tposter={this.props.image && (this.props.image.medium || this.props.image.large || this.props.image.small)}\n\t\t\t\tmuted={this.props.muted}\n\t\t\t\tautoPlay={true}\n\t\t\t\tloop={true}\n\t\t\t\tcontrols={false}\n\t\t\t\tonClick={this.togglePlaying}\n\t\t\t\tonLoad={this.props.onLoad}\n\t\t\t\tonLoadStart={this.props.onLoad}\n\t\t\t\tonLoadedData={this.props.onLoad}\n\t\t\t\tonPlay={this.props.onLoad} />\n\t\t);\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/Video/Video.js\n **/","var _          = require('underscore');\nvar React      = require('react');\nvar classnames = require('classnames');\nvar compose    = require('redux').compose;\nvar errors     = require('feathers-errors');\nvar promisify  = require('es6-promisify');\n\nvar report = require('../../report');\nvar styles = require('./YoutubeVideo.styles');\n\nvar YoutubeVideo = module.exports = React.createClass({\n\tdisplayName: 'YoutubeVideo',\n\tpropTypes:   {\n\t\tclassName: React.PropTypes.string,\n\t\tcontent:   React.PropTypes.object.isRequired,\n\t\timage:     React.PropTypes.object,\n\t\tmeta:      React.PropTypes.object.isRequired,\n\t\tmuted:     React.PropTypes.bool.isRequired,\n\t\tonLoad:    React.PropTypes.func.isRequired\n\t},\n\tstatics: {\n\t\tgetYT: function() {\n\t\t\tif (window.YT) {\n\t\t\t\treport.catchException(new Error('window.YT should not exist'));\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\twindow.YT = window.YT || { loading: 0, loaded: 0 };\n\t\t\twindow.YTConfig = window.YTConfig || { host: 'http://www.youtube.com' };\n\t\t\tif (window.YT.loading) {\n\t\t\t\treport.catchException(new Error('window.YT.loading should not exist'));\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\twindow.YT.loading = 1;\n\t\t\tvar l = [];\n\t\t\t// Mostly copied from https://www.youtube.com/iframe_api\n\t\t\t/* eslint-disable */\n\t\t\twindow.YT.ready = function(f) {if (window.YT.loaded) {f();} else {l.push(f);}};\n\t\t\twindow.onYTReady = function() {window.YT.loaded = 1; for (var i = 0; i < l.length; i++) {try {l[i]();} catch (e) {}}};\n\t\t\twindow.YT.setConfig = function(c) {for (var k in c) {if (c.hasOwnProperty(k)) {window.YTConfig[k] = c[k];}}};\n\t\t\t/* eslint-enable */\n\t\t\tYoutubeVideo.getYT = _.constant(\n\t\t\t\tPromise.all([\n\t\t\t\t\t// HACK This is a url from within https://www.youtube.com/iframe_api\n\t\t\t\t\tfetch('https://s.ytimg.com/yts/jsbin/www-widgetapi-vflwSZmGJ/www-widgetapi.js')\n\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\tif (!response.ok) {\n\t\t\t\t\t\t\t\tthrow new errors.FeathersError('Youtube API won\\'t load', 'FeathersError');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn response.text();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(function(text) {\n\t\t\t\t\t\t\t// HACK Eval-ing text we downloaded\n\t\t\t\t\t\t\teval(text); // eslint-disable-line no-eval\n\t\t\t\t\t\t}),\n\t\t\t\t\tpromisify(window.YT.ready.bind(window.YT))()\n\t\t\t\t])\n\t\t\t\t\t.then(function() {\n\t\t\t\t\t\treturn window.YT;\n\t\t\t\t\t})\n\t\t\t);\n\t\t\treturn YoutubeVideo.getYT();\n\t\t}\n\t},\n\tgetInitialState: function() {\n\t\treturn { player: null };\n\t},\n\tcomponentDidMount: function() {\n\t\tYoutubeVideo.getYT()\n\t\t\t.then(function(YT) {\n\t\t\t\treturn new Promise(function(resolve) {\n\t\t\t\t\t/* eslint-disable no-new */\n\t\t\t\t\tnew YT.Player(this.refs.video, {\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tonReady: compose(resolve, _.property('target')),\n\t\t\t\t\t\t\tonError: report.catchException\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t/* eslint-enable no-new */\n\t\t\t\t}.bind(this));\n\t\t\t}.bind(this))\n\t\t\t.then(function(player) {\n\t\t\t\tthis.setState({ player: player });\n\t\t\t}.bind(this))\n\t\t\t.catch(report.catchException);\n\t},\n\tcomponentDidUpdate: function() {\n\t\tif (!this.state || !this.state.player) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.props.muted) {\n\t\t\tthis.state.player.mute();\n\t\t} else {\n\t\t\tthis.state.player.unMute();\n\t\t}\n\t},\n\trender: function() {\n\t\treturn (\n\t\t\t<iframe className={classnames(styles.video, this.props.className)}\n\t\t\t\tref=\"video\"\n\t\t\t\tsrc={'https://www.youtube.com/embed/' + this.props.content.id + '?enablejsapi=1&origin=' + document.origin + '&autoplay=1&mute=1&rel=0' + (this.props.meta.time_offset ? '&start=' + this.props.meta.time_offset : '')}\n\t\t\t\tstyle={{ backgroundImage: this.props.image && ('url(' + (this.props.image.medium || this.props.image.large || this.props.image.small) + ')') }}\n\t\t\t\tallowFullScreen={true}\n\t\t\t\tonLoad={this.props.onLoad} />\n\t\t);\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/YoutubeVideo/YoutubeVideo.js\n **/","var _ = require('underscore');\n\nvar browser = require('../extension/browser');\n\nmodule.exports.analytics = function(request) {\n\treturn function() {\n\t\tvar promise = browser.runtime.sendMessage({ type: 'analytics', payload: request });\n\n\t\tif (!process.env.GOOGLE_ANALYTICS_ID) {\n\t\t\tpromise = promise\n\t\t\t\t.then(function() {\n\t\t\t\t\tif (_.chain(request).first(2).isEqual(['send', 'exception']).value()) {\n\t\t\t\t\t\tconsole.error('google analytics', request);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.debug('google analytics', request);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t\treturn promise;\n\t};\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./redux/analytics.actions.top-frame.js\n **/","var createAction = require('redux-actions').createAction;\n\nvar browser = require('../extension/browser');\n\nmodule.exports.authenticate = function(request) {\n\treturn function() {\n\t\treturn browser.runtime.sendMessage(createAction('authenticate')(request));\n\t};\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./redux/authentication.actions.top-frame.js\n **/","var actions     = require('./actions.top-frame');\nvar createStore = require('./createStore.common');\n\nmodule.exports = function(initialState) {\n\treturn createStore(\n\t\tactions,\n\t\t{\n\t\t\tauthentication: require('./authentication.reducer'),\n\t\t\tentities:       require('./entities.reducer'),\n\t\t\toptions:        require('./options.reducer')\n\t\t},\n\t\tinitialState\n\t);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./redux/createStore.top-frame.js\n **/","var _            = require('underscore');\nvar createAction = require('redux-actions').createAction;\n\nvar browser     = require('../extension/browser');\nvar entityLabel = require('../utils/entity-label');\n\nvar setEntity = createAction('SET_ENTITY', null, function(entity, label) {\n\treturn label && { label: label };\n});\n\nmodule.exports.getEntity = function(request) {\n\treturn function(dispatch, getState) {\n\t\tvar state = getState();\n\t\tvar label = entityLabel(request);\n\t\tif (state.entities[label] && state.entities[label].loaded && Date.now() - state.entities[label].loaded <= 5 * 60 * 1000) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\treturn browser.runtime.sendMessage(createAction('getEntity')(request))\n\t\t\t.then(_.property('payload'))\n\t\t\t.then(setEntity)\n\t\t\t.then(dispatch);\n\t};\n};\n\nmodule.exports.setEntity = function(request, meta) {\n\treturn function(dispatch) {\n\t\tdispatch(setEntity(request, (meta || {}).label));\n\t\treturn Promise.resolve();\n\t};\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./redux/entities.actions.top-frame.js\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"meta-main\":\"_3nG-tIO3UD_p1wSEAdcyYs KheWzlLE9P6e7s_v1alZa\",\"metaMain\":\"_3nG-tIO3UD_p1wSEAdcyYs KheWzlLE9P6e7s_v1alZa\",\"network\":\"_3yQ__L-cnJmAX39rqdRlE2\",\"imgur\":\"_2u1ztYLgSYdR3B31WGbacS\",\"instagram\":\"_1TYjUVV7YEBjXh2rIR-4DR\",\"reddit\":\"_1W5z4lpn4kh7r_PUyVKbQ5\",\"soundcloud\":\"_3Zt7R-_SRCZxD0I7y93Xl1\",\"twitter\":\"_1OSqJUYd61FP7aW7h4a4g2\",\"youtube\":\"JaMB1OkuYFWCOqqKjoG_S\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/AccountFooter/AccountFooter.styles.css\n ** module id = 724\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"banner\":\"_1IIMjSsta2QqUdso4oDH-Z _3bT6jN_JQ9nffl6b5IP6fU\",\"banner-image\":\"UDZaKqYDWBwdBvTc618Aa\",\"bannerImage\":\"UDZaKqYDWBwdBvTc618Aa\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/AccountHeader/AccountHeader.styles.css\n ** module id = 725\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"account\":\"_1SgqQRjs8S8FvwzGx3q6-Y\",\"noAccountImage\":\"_1nJSeRQu9GLc0xghiuX7IW\",\"image\":\"_14BNwwLTKWG6eAxD3X_XbF\",\"header\":\"URiiWigkFhnNGWyLXFhMp\",\"name-container\":\"_3-Jw9Pd_c-YQ0VwH376qCx _3bT6jN_JQ9nffl6b5IP6fU\",\"nameContainer\":\"_3-Jw9Pd_c-YQ0VwH376qCx _3bT6jN_JQ9nffl6b5IP6fU\",\"name\":\"_1pAr2ddZJCZ9cA-uyANPQC\",\"verified\":\"_6CMiukS0hDJG5-Pl-DGgf\",\"description\":\"_2f92dK-tvNBNCJzgUmJNtx\",\"text\":\"_2o7YWmGyc67s4UNjuuARGM\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/AccountHovercard/AccountHovercard.styles.css\n ** module id = 726\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"carousel\":\"_3kTtch1qrUD9yZaycqZ-Rs\",\"arrows\":\"_2da5c2o9zEandqLEtnFRXu\",\"right-arrow\":\"_1d8TcLSJxexGCllULPQXpp\",\"rightArrow\":\"_1d8TcLSJxexGCllULPQXpp\",\"left-arrow\":\"_21ZdgizXcMWRl7VNpirtRq\",\"leftArrow\":\"_21ZdgizXcMWRl7VNpirtRq\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/Carousel/Carousel.styles.css\n ** module id = 727\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"collapsable\":\"ahBsgkkAMzHez8ouDhrJ- _-7qpSHA5Y_zyrI2k7fbKw\",\"collapsed\":\"_2gsUHb8K8bNZZzHeIQtkaq\",\"expanded\":\"cMFa58WIRUrJMLsMiK2HJ\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/Collapsable/Collapsable.styles.css\n ** module id = 728\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"name\":\"_2kHw9g2jlADUfvUHDzhB3y\",\"description\":\"iQqXtUweYD5VW8iZ6xI0Z\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/ContentDescription/ContentDescription.styles.css\n ** module id = 729\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"header\":\"_1w8_FboHMYh08Q9nmG_OpO _15FuGYQoG9kn3jJN0YYnQ-\",\"image\":\"_2KiOCwakPx3eQmUuLIs6rp\",\"name-container\":\"_2wrrPyPTOAU61R3f5qNOvY pgUu0_93XJJHbYqmSq6vW\",\"nameContainer\":\"_2wrrPyPTOAU61R3f5qNOvY pgUu0_93XJJHbYqmSq6vW\",\"name\":\"_2oqi0tu2-Ry_3oVh_hwCeY\",\"share\":\"_16R8Cwy9VbOONOG4-KiHp6\",\"share-on-facebook\":\"_3MgGL63wwsCuoyyGbJt2wm _16R8Cwy9VbOONOG4-KiHp6\",\"shareOnFacebook\":\"_3MgGL63wwsCuoyyGbJt2wm _16R8Cwy9VbOONOG4-KiHp6\",\"share-on-twitter\":\"_3HMvPjWhlR-f4TcnjIPEe- _16R8Cwy9VbOONOG4-KiHp6\",\"shareOnTwitter\":\"_3HMvPjWhlR-f4TcnjIPEe- _16R8Cwy9VbOONOG4-KiHp6\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/ContentHeader/ContentHeader.styles.css\n ** module id = 730\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"content\":\"OKuQXEPCWzJiuhdVUfBZz\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/ContentHovercard/ContentHovercard.styles.css\n ** module id = 731\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"comment-container\":\"_373IXZ0GB-fRI7o08foG23\",\"commentContainer\":\"_373IXZ0GB-fRI7o08foG23\",\"comment\":\"_2GzSEbAesZnHi0HnKaw0aV\",\"account-image-container\":\"_238x3w29CMAH1am7EE4kNV\",\"accountImageContainer\":\"_238x3w29CMAH1am7EE4kNV\",\"account-image\":\"_2q07VwkzHy13pQvvw7jieW\",\"accountImage\":\"_2q07VwkzHy13pQvvw7jieW\",\"empty\":\"_30cXIrD8bE_N7Y3UntHV\",\"account-name\":\"_3fuj89mES2dO2E7V_oFC28\",\"accountName\":\"_3fuj89mES2dO2E7V_oFC28\",\"description\":\"u9r_vSbx8IQ2-zJVRmE8J\",\"text\":\"_2ZDgQzGb_XI70M8R1-hpgR _-7qpSHA5Y_zyrI2k7fbKw\",\"stat\":\"_1PfFGmiN_QFQQhrwBPM18P undefined\",\"stat-number\":\"_3Ry-njkmOTw1z6iUaIbVhP\",\"statNumber\":\"_3Ry-njkmOTw1z6iUaIbVhP\",\"replies\":\"_18E-UvHYHyU6OV-mcKFAHm\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/DiscussionComment/DiscussionComment.styles.css\n ** module id = 732\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"discussions-container\":\"_34-bkHx4qnASIZPHgB6jXi\",\"discussionsContainer\":\"_34-bkHx4qnASIZPHgB6jXi\",\"discussions\":\"_2VXngGNy_00oz04i_q2wfy\",\"tabs-container\":\"_3borFH9cx7ONIe3g9SN2DJ _15FuGYQoG9kn3jJN0YYnQ-\",\"tabsContainer\":\"_3borFH9cx7ONIe3g9SN2DJ _15FuGYQoG9kn3jJN0YYnQ-\",\"tabs\":\"_1ZiZ_UpG6nqXimprb-EN2w\",\"tab\":\"_2ogqFdonlXFxf3X-ElOkRT\",\"selected\":\"kczBCdfOo7laQ7fM4j6PL\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/Discussions/Discussions.styles.css\n ** module id = 733\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"error\":\"_3JglF2sd2EYZSXO-gQlDCa\",\"image\":\"_2yRvX20FvS7GN5Y-PCkPfK\",\"shake\":\"_39Pxg9lQN3D6LqfrvDMDE4\",\"description\":\"_6InogklCN1GFNRPRJQSDF\",\"name\":\"mdJJSbxxvERNrhSG-gaV0\",\"text\":\"pN2CNfyqbSVAJl8tBxNIt\",\"cta\":\"_1jUQ27vOMZ59eu8x5jHewZ\",\"imgur\":\"_1IaPaQWHKT9nA-wC3fD73q\",\"instagram\":\"_1700ptei__sfFDUNCfWeB6\",\"reddit\":\"_2N3CzBbGur85GA5McLz1NL\",\"soundcloud\":\"_3VUPdTJEVxAbX8rgqE9WLy\",\"twitter\":\"_3J3oZbSKSYUYoDSPfNzTZ9\",\"youtube\":\"_3uC0w8IhMYUKl5HwSzB8FK\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/Err/Err.styles.css\n ** module id = 734\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"gif\":\"ZhkZtMpYLiMTQTecHM5c0\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/Gif/Gif.styles.css\n ** module id = 735\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"hovercard\":\"_1oOlws9BVj0LBBEOlZGyWv\",\"lock-document\":\"k1GPH9LYr_mWrJSRxhyC0\",\"lockDocument\":\"k1GPH9LYr_mWrJSRxhyC0\",\"lock-body\":\"_1OMoHr4Y-ylJKzbQJytX2h\",\"lockBody\":\"_1OMoHr4Y-ylJKzbQJytX2h\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/Hovercard/Hovercard.styles.css\n ** module id = 736\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"image\":\"_3PGtSlCCDmjUAZgmb3er0b\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/Image/Image.styles.css\n ** module id = 738\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"loading-container\":\"_1tAHEvWURjitDaOY2bXBZG\",\"loadingContainer\":\"_1tAHEvWURjitDaOY2bXBZG\",\"loading\":\"_1BQkrTAdBIGXIrNdhjfmTo\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/Loading/Loading.styles.css\n ** module id = 740\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"media\":\"_1t0TrLChhPeEjWNhERg2UK _3bT6jN_JQ9nffl6b5IP6fU\",\"meta\":\"_1byXNBqC1NbrxEsgLr_BG\",\"description\":\"c4aF4uBeEpM2xdxNqMdec\",\"text\":\"_2z-h7KKZ8CpBd1S5spP3VO\",\"name\":\"znj7MHvHkfrQxma_LyOjG\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/Media/Media.styles.css\n ** module id = 741\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"oembed-container\":\"_3iUrnPVFR1OuP13P5Kpcoo\",\"oembedContainer\":\"_3iUrnPVFR1OuP13P5Kpcoo\",\"oembed\":\"WXEiaaLVjD9UJSuzO3MvM\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/OEmbed/OEmbed.styles.css\n ** module id = 742\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"player\":\"_JrJfup6UMTPyIqxACzl\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/SoundCloudPlayer/SoundCloudPlayer.styles.css\n ** module id = 744\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"video\":\"_2NBp4V2vQYZHnc4HRKvQ5Z\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/Video/Video.styles.css\n ** module id = 745\n ** module chunks = 3\n **/","// removed by extract-text-webpack-plugin\nmodule.exports = {\"video\":\"_1R_fBj93s7WnUQwM3cCzLw\"};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/YoutubeVideo/YoutubeVideo.styles.css\n ** module id = 746\n ** module chunks = 3\n **/"],"sourceRoot":""}