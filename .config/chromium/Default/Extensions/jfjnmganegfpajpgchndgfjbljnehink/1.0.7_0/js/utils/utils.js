define(["require","exports","utils/browser-api","utils/analytics"],function(a,b,c,d){"use strict";var e=function(){function a(){}return a.createTextNode=function(a){return document.createTextNode(a)},a.createElement=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];var e=document.createElement(a);if(b)for(var f in b)if("style"===f){var g=b[f];for(var h in g)g.hasOwnProperty(h)&&(e.style[h]=g[h])}else if(b.hasOwnProperty(f)&&!e.hasOwnProperty(f)){var i=b[f];f.indexOf("-")>-1?e.setAttribute(f,i):e[f]=i}for(var j=2,k=arguments.length;k>j;j++)e.appendChild(arguments[j]);return e},a.findParent=function(a,b,c,d){for(var e=a.parentNode;e;){if(!e.parentNode)return null;var f=!0;if(b&&(b=b.toLowerCase(),f=e.tagName.toLowerCase()===b),f&&c&&(f=e.id!==c),f&&d)for(var g=0,h=d.length;h>g;g++){var i=d[g];if(f=e.classList.contains(i))break}if(f)break;e=e.parentNode}return e},a.newObserver=function(a){var b=new MutationObserver(function(b){b.forEach(function(b){for(var c=b.addedNodes.length,d=0;c>d;d++)a(b.addedNodes[d])})});return b},a.logEventData=function(a){"undefined"==typeof chrome.tabs?c.Message.sendMessage({cmd:"logEvent",data:a}):d.logEventData(a)},a}();return e});